<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Collabo AI Pro - הסוכן הדיגיטלי המתקדם לעסקים</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #2563eb;
            --ai-purple: #4c1d95;
            --advice-purple: #8b5cf6;
            --success-green: #10b981;
            --text-primary: #37352f;
            --text-secondary: #6b7280;
            --text-muted: #9ca3af;
            --border-light: #e5e7eb;
            --bg-light: #ffffff;
            --bg-gray: #f9fafb;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --border-radius: 6px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Utility Classes */
        .flex-center { display: flex; align-items: center; justify-content: center; }
        .flex-between { display: flex; align-items: center; justify-content: space-between; }
        .flex-start { display: flex; align-items: center; }
        .flex-col { display: flex; flex-direction: column; }
        
        .p-4 { padding: 16px; }
        .p-6 { padding: 24px; }
        .p-10 { padding: 40px; }
        .py-4 { padding-top: 16px; padding-bottom: 16px; }
        .px-6 { padding-left: 24px; padding-right: 24px; }
        
        .mb-4 { margin-bottom: 16px; }
        .mb-6 { margin-bottom: 24px; }
        .mb-8 { margin-bottom: 32px; }
        
        .rounded-full { border-radius: 50%; }
        .rounded-md { border-radius: 12px; }
        .rounded-lg { border-radius: var(--border-radius-lg); }
        
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        .font-black { font-weight: 800; }
        
        .translate-y-1 { transform: translateY(-1px); }
        .translate-y-2 { transform: translateY(-2px); }
        .translate-x-0 { transform: translateX(0); }
        
        .text-center { text-align: center; }
        .text-secondary { color: var(--text-secondary); }
        .text-muted { color: var(--text-muted); }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.5;
            color: #37352f;
            direction: rtl;
            background: #ffffff;
            font-weight: 400;
            min-height: 100vh;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Simple Header */
        .header {
            background: #ffffff;
            border-bottom: 1px solid #e5e7eb;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 16px 0;
        }

        /* Simple Header Styles */
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        /* Logo Section */
        .logo-section {
            display: flex;
            align-items: center;
        }

        .logo-text {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: #000000;
            display: flex;
            flex-direction: column;
            line-height: 1;
        }
        
        .logo-text .ai-highlight {
            color: #4c1d95;
        }
        
        .logo-text .pro-sub {
            font-size: 12px;
            font-weight: 500;
            color: #666666;
            margin-top: 2px;
            letter-spacing: 0.5px;
        }

        /* Simple Navigation */
        .nav-container {
            position: relative;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 40px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 4px;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
            white-space: nowrap;
            background: transparent;
        }

        .nav-link:hover {
            color: var(--ai-purple);
            background: rgba(76, 29, 149, 0.1);
            transform: translateY(-1px);
        }

        .nav-link:hover i {
            color: var(--ai-purple);
            transform: scale(1.1);
        }

        .nav-link:hover .nav-indicator {
            width: 60%;
        }

        /* CTA Button */
        .header-cta-section {
            animation: slideInFromRight 0.8s ease-out 0.4s both;
        }

        .cta-button {
            position: relative;
            background: linear-gradient(135deg, var(--primary-red), var(--secondary-red));
            border: none;
            border-radius: var(--border-radius);
            padding: 16px 28px;
            color: var(--text-primary);
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 4px 15px rgba(255, 49, 49, 0.3);
        }

        .cta-glow {
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--secondary-red), transparent, var(--primary-red), transparent, var(--secondary-red));
            border-radius: var(--border-radius);
            opacity: 0;
            z-index: -1;
            animation: rotate 3s linear infinite;
            transition: opacity 0.3s ease;
        }

        .cta-button:hover .cta-glow {
            opacity: 1;
        }

        .cta-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 49, 49, 0.4);
        }

        .cta-icon {
            transition: transform 0.3s ease;
        }

        .cta-button:hover .cta-icon {
            transform: translateX(-3px);
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            gap: 4px;
            cursor: pointer;
            padding: 8px;
        }

        .mobile-menu-toggle span {
            width: 25px;
            height: 3px;
            background: white;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .mobile-menu-toggle:hover span {
            background: var(--secondary-blue);
            transform: scaleX(1.1);
        }

        .mobile-menu-toggle:hover span:nth-child(2) {
            transform: scaleX(0.8);
        }

        /* Active Navigation States */
        .nav-item.active .nav-link {
            background: rgba(37, 99, 235, 0.15);
            color: var(--primary-blue);
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);
            font-weight: 600;
        }
        
        .nav-item.active .nav-link i {
            color: var(--primary-blue);
        }

        .nav-item.active .nav-indicator {
            width: 80%;
            background: var(--primary-blue);
        }

        /* Scroll Progress Indicator */
        .scroll-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-blue), var(--secondary-blue));
            transition: width 0.3s ease;
            border-radius: 1px;
            z-index: 3;
        }
        
        /* Large screens optimization */
        @media (min-width: 1400px) {
            .container {
                max-width: 1400px;
            }
            
            .hero h1 {
                font-size: 64px;
            }
            
            .hero .subtitle {
                font-size: 24px;
            }
            
            .section-header h2 {
                font-size: 48px;
            }
            
            .demo-container {
                max-width: 1200px;
                margin: 0 auto;
            }
            
            .testimonials-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 40px;
            }
            
            .stats-grid {
                max-width: 1000px;
                margin: 0 auto;
            }
        }

        /* Enhanced Mobile Menu */
        @media (max-width: 1024px) {
            .nav-container {
                display: none;
            }
            
            .mobile-menu-toggle {
                display: flex;
            }

            .nav-menu.mobile-active {
                position: fixed;
                top: 80px;
                left: 20px;
                right: 20px;
                background: rgba(15, 23, 42, 0.95);
                backdrop-filter: blur(20px);
                border-radius: 20px;
                padding: 20px;
                flex-direction: column;
                gap: 12px;
                box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
                border: 1px solid rgba(255, 255, 255, 0.1);
                z-index: 1000;
                animation: mobileMenuSlide 0.3s ease;
            }

            @keyframes mobileMenuSlide {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .mobile-active .nav-link {
                width: 100%;
                justify-content: center;
                padding: 16px 20px;
                margin: 4px 0;
            }
        }

        /* Tablet Portrait (768px - 1024px) */
        @media screen and (max-width: 1024px) and (min-width: 769px) {
            .header {
                padding: 12px 0;
            }
            
            .container {
                max-width: 100%;
                padding: 0 20px;
            }
            
            .hero {
                padding: 100px 0 60px;
            }
            
            .hero h1 {
                font-size: clamp(32px, 5vw, 48px);
            }
            
            .hero .subtitle {
                font-size: 20px;
                max-width: 500px;
            }
            
            .hero-cta-group {
                gap: 12px;
            }
            
            .demo-container {
                grid-template-columns: 1fr;
                gap: 32px;
                max-width: 800px;
            }
            
            .section-title {
                font-size: clamp(24px, 4vw, 36px);
            }
            
            .testimonials-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 24px;
            }
            
            .comparison-table {
                grid-template-columns: 1.2fr 1fr 1fr;
                gap: 16px;
                padding: 24px;
            }
        }

        /* Base Button Styles */
        .btn-base {
            display: inline-block;
            border-radius: var(--border-radius);
            text-decoration: none;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: var(--text-primary);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--secondary-blue), var(--primary-blue));
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .btn-gradient {
            background: linear-gradient(135deg, var(--primary-red), var(--secondary-red));
            color: var(--text-primary);
            box-shadow: 0 4px 15px rgba(255, 49, 49, 0.3);
        }
        .btn-gradient:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 49, 49, 0.4);
        }

        .btn-lg {
            padding: 16px 32px;
            font-size: 16px;
            border-radius: var(--border-radius-lg);
        }

        .header-cta {
            font-size: 14px;
        }

        /* Hero Section - Enterprise Grade */
        .hero {
            background: #ffffff;
            color: var(--text-primary);
            padding: 120px 0 80px;
            text-align: center;
        }
        
        .hero .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* Mobile Hero Responsive */
        @media screen and (max-width: 768px) {
            .hero {
                padding: 100px 0 60px;
            }
            
            .hero .container {
                max-width: 100%;
                padding: 0 20px;
            }
            
            .hero-content {
                padding: 0;
                max-width: 100%;
            }
            
            .hero-badge {
                font-size: 13px;
                padding: 8px 16px;
                margin-bottom: 20px;
                border-radius: 20px;
            }
            
            .hero h1 {
                font-size: clamp(28px, 7vw, 40px);
                margin-bottom: 20px;
                line-height: 1.1;
            }
            
            .hero .subtitle {
                font-size: 18px;
                margin-bottom: 28px;
                line-height: 1.5;
                max-width: 100%;
            }
            
            .hero-cta-group {
                flex-direction: column;
                gap: 16px;
                margin: 32px 0 40px 0;
                align-items: stretch;
            }
            
            .btn-primary,
            .cta-secondary {
                width: 100%;
                max-width: 300px;
                margin: 0 auto;
                padding: 14px 24px;
                font-size: 14px;
            }
        }

        .hero-content {
            position: relative;
            z-index: 2;
            animation: fadeInUp 1s ease-out;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        .hero-content h1 {
            margin-bottom: 24px;
        }
        
        .hero-content .subtitle {
            margin-bottom: 32px;
            font-size: 20px;
            line-height: 1.6;
            color: var(--text-secondary);
            max-width: 680px;
            margin-left: auto;
            margin-right: auto;
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            background: var(--bg-gray);
            border: 1px solid var(--border-light);
            padding: 10px 20px;
            border-radius: 24px;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 28px;
            color: var(--text-secondary);
            transition: all 0.3s ease;
        }

        .hero-badge:hover {
            background: rgba(76, 29, 149, 0.1);
            border-color: var(--ai-purple);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(96, 165, 250, 0); }
        }

        .hero-badge i {
            margin-left: 8px;
            color: var(--ai-purple);
        }

        /* Global heading consistency for desktop */
        h1 {
            font-size: clamp(36px, 6vw, 56px);
            font-weight: 700;
            line-height: 1.2;
            color: var(--text-primary);
            font-family: inherit;
        }
        
        h2 {
            font-size: clamp(28px, 4vw, 40px);
            font-weight: 700;
            line-height: 1.3;
            color: var(--text-primary);
            font-family: inherit;
        }
        
        h3 {
            font-size: 24px;
            font-weight: 700;
            line-height: 1.4;
            color: var(--text-primary);
            font-family: inherit;
        }
        
        .section-subtitle,
        .hero .subtitle,
        .section-header p {
            font-size: 18px;
            line-height: 1.6;
            color: var(--text-secondary);
            font-family: inherit;
        }

        .hero h1 {
            font-size: clamp(36px, 6vw, 56px);
            font-weight: 700;
            margin-bottom: 24px;
            line-height: 1.2;
            color: var(--text-primary);
        }

        .hero .subtitle {
            margin-bottom: 32px;
            opacity: 0.9;
            font-weight: 400;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-cta-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 40px 0 60px 0;
            flex-wrap: wrap;
            align-items: center;
        }

        .cta-primary {
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
            min-width: 280px;
            padding: 16px 32px;
        }
        
        .cta-secondary {
            min-width: 200px;
            padding: 16px 32px;
            border: 2px solid var(--border-light);
            transition: all 0.3s ease;
        }
        
        .cta-secondary:hover {
            border-color: var(--primary-blue);
            background: rgba(37, 99, 235, 0.05);
        }

        .cta-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 600;
            text-decoration: none;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }

        .cta-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-1px);
        }


        /* Shared Section Styles */
        .section-header {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 80px;
        }

        .section-badge {
            display: inline-block;
            background: rgba(76, 29, 149, 0.1);
            color: var(--ai-purple);
            padding: 6px 12px;
            border-radius: var(--border-radius);
            font-size: 12px;
            font-weight: 500;
            border: 1px solid rgba(76, 29, 149, 0.2);
        }

        .section-title {
            font-size: clamp(28px, 4vw, 40px);
            color: var(--text-primary);
            line-height: 1.3;
            font-weight: 700;
            margin: 12px 0 16px 0;
        }

        .section-subtitle {
            font-size: 16px;
            color: var(--text-secondary);
            font-weight: 400;
            line-height: 1.5;
            max-width: 600px;
            margin: 0 auto 48px auto;
        }

        @keyframes slideInFromLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideInFromRight {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Trust Indicators */


        /* Demo Section */
        .demo {
            background: var(--bg-gray);
            padding: 80px 0;
        }

        .demo .container {
            position: relative;
            z-index: 2;
            padding: 0 clamp(16px, 2vw, 20px);
            max-width: 1200px;
        }

        /* Mobile Responsive Demo Section (768px and below) */
        @media screen and (max-width: 768px) {
            .demo {
                padding: 60px 0 40px;
            }
            
            .demo .container {
                padding: 0 16px;
            }
            
            .demo-container {
                grid-template-columns: 1fr;
                gap: 24px;
                max-width: 100%;
            }
            
            .demo-content h2 {
                font-size: 28px;
                margin-bottom: 16px;
            }
            
            .demo-content p {
                font-size: 14px;
                margin-bottom: 12px;
            }
            
            .demo-features li {
                font-size: 12px;
                margin-bottom: 6px;
            }
            
            .demo-features i {
                margin-left: 8px;
            }
            
            .demo-video {
                padding: 8px;
                border-radius: 16px;
            }
            
            .social-feed-demo {
                padding: 8px;
                border-radius: 12px;
            }
            
            .facebook-post {
                margin: 0 0 12px 0;
            }
            
            .post-header {
                padding: 12px 16px 8px 16px;
                gap: 8px;
            }
            
            .post-content {
                padding: 0 16px 8px 16px;
                font-size: 14px;
            }
            
            .post-actions {
                padding: 6px 16px;
                gap: 4px;
            }
            
            .post-action {
                padding: 4px 6px;
                font-size: 11px;
            }
            
            /* Customer Profile Mobile */
            #customerProfileTemp {
                max-width: 100%;
                margin: -30px auto 8px auto;
                padding: 0 16px;
            }
            
            #demoIntro div {
                padding: 12px;
                font-size: 14px;
            }
            
            .customer-details {
                padding: 16px;
                margin-bottom: 12px;
            }
            
            .detail-item {
                padding: 8px 12px;
                font-size: 12px;
            }
        }

        .demo .section-header h2 {
            color: var(--text-primary);
        }

        .demo .section-header p {
            color: var(--text-secondary);
        }

        .demo-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: clamp(10px, 1.8vw, 25px);
            justify-content: center;
            align-items: flex-start;
            margin: 0 auto;
            max-width: min(99vw, 1800px);
            padding: 0;
            width: 100%;
        }

        .demo-content h2 {
            margin-bottom: 24px;
            line-height: 1.3;
        }

        .demo-content {
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            padding: 0;
        }

        .demo-content p, .status-indicator p {
            font-size: clamp(12px, 2.5vw, 16px);
            color: var(--text-secondary);
            margin-bottom: clamp(8px, 2vw, 16px);
            line-height: 1.4;
            flex-shrink: 1;
        }

        .demo-features {
            list-style: none;
            margin-bottom: 0;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
        }

        .demo-features li {
            display: flex;
            align-items: center;
            margin-bottom: clamp(4px, 1vw, 8px);
            font-size: clamp(11px, 2.2vw, 14px);
            color: var(--text-primary);
            line-height: 1.3;
        }

        .demo-features i {
            color: var(--ai-purple);
            margin-left: clamp(6px, 1.5vw, 12px);
            font-weight: 600;
            flex-shrink: 0;
        }

        /* Feature list animations */
        .demo-features.updating {
            animation: featuresFadeOut 0.6s ease-out forwards;
        }

        .demo-features.updated {
            animation: featuresFadeIn 1.2s ease-out forwards;
        }

        .demo-features li {
            transition: all 0.5s ease;
        }

        .demo-features.highlight li {
            animation: featureHighlight 1.5s ease-in-out;
            animation-delay: calc(var(--delay, 0) * 0.3s);
        }

        @keyframes featuresFadeOut {
            0% { opacity: 1; transform: translateX(0); }
            100% { opacity: 0.3; transform: translateX(-10px); }
        }

        @keyframes featuresFadeIn {
            0% { opacity: 0.3; transform: translateX(-10px); }
            50% { opacity: 0.7; transform: translateX(5px); }
            100% { opacity: 1; transform: translateX(0); }
        }

        @keyframes featureHighlight {
            0%, 100% { 
                background: transparent;
                transform: scale(1);
                box-shadow: none;
            }
            50% { 
                background: rgba(30, 64, 175, 0.08);
                transform: scale(1.02);
                box-shadow: 0 2px 8px rgba(30, 64, 175, 0.15);
                border-radius: 8px;
            }
        }

        /* Checkmark pulse animation */
        .demo-features li.animate-check i {
            animation: checkPulse 1s ease-in-out;
        }

        @keyframes checkPulse {
            0%, 100% { 
                transform: scale(1);
                color: var(--success-green);
            }
            50% { 
                transform: scale(1.2);
                color: #059669;
                text-shadow: 0 0 8px rgba(5, 150, 105, 0.4);
            }
        }

        /* Highlight animation for analysis reasons */
        .analysis-highlight {
            animation: reasonHighlight 1s ease-in-out;
        }

        @keyframes reasonHighlight {
            0% { 
                background: transparent; 
            }
            50% { 
                background: rgba(239, 68, 68, 0.15);
                box-shadow: 0 0 8px rgba(239, 68, 68, 0.3);
            }
            100% { 
                background: transparent; 
            }
        }

        .demo-video {
            background: white;
            border-radius: 20px;
            padding: clamp(8px, 1.5vw, 12px);
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-light);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .demo-status {
            text-align: center;
            padding: 16px 0;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-size: 16px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Agent Setup Form Styles */
        .agent-setup-form {
            max-width: 100%;
        }

        .form-step {
            display: none;
            animation: fadeInUp 0.5s ease-out;
        }

        .form-step.active {
            display: block;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .form-input {
            width: 100%;
            padding: 16px;
            border: 2px solid #e5e7eb;
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: border-color 0.3s;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        .form-select {
            width: 100%;
            padding: 16px;
            border: 2px solid #e5e7eb;
            border-radius: var(--border-radius);
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .form-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        .agent-preview {
            background: #f8fafc;
            border-radius: var(--border-radius-lg);
            padding: 24px;
            margin-top: 24px;
            border: 2px dashed #cbd5e1;
            text-align: center;
        }

        .agent-avatar-preview {
            width: 64px;
            height: 64px;
            margin: 0 auto 16px;
            font-size: 24px;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .agent-name-preview {
            font-size: 20px;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 8px;
        }

        .agent-field-preview {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .agent-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            color: var(--success-green);
            font-weight: 600;
        }

        .pulse-dot {
            width: 8px;
            height: 8px;
            background: var(--success-green);
            border-radius: 50%;
            animation: pulseGlow 2s infinite;
        }

        @keyframes pulseGlow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Social Feed Demo */
        .social-feed-demo {
            background: #f0f2f5;
            border-radius: clamp(6px, 1.5vw, 12px);
            width: 100%;
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            padding: clamp(6px, 1.2vw, 10px);
            position: relative;
            scroll-behavior: smooth;
            box-sizing: border-box;
            touch-action: pan-y;
            -webkit-overflow-scrolling: touch;
            margin: 0;
            flex: 1;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        .facebook-post {
            background: white !important;
            border-radius: 8px;
            padding: 0;
            margin: 0 0 clamp(12px, 2.5vw, 16px) 0;
            border: none;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1), 0 1px 3px 1px rgba(0, 0, 0, 0.07);
            transition: all 0.3s ease;
            position: relative;
            width: 100%;
            box-sizing: border-box;
            overflow: visible;
        }
        
        .facebook-post.post-highlighted {
            border: 2px solid #1e40af !important;
            box-shadow: 0 0 20px rgba(30, 64, 175, 0.3) !important;
            transform: none !important;
            transition: all 0.3s ease !important;
            margin: 0 0 clamp(12px, 2.5vw, 16px) 0 !important;
        }
        
        .facebook-post.post-analyzing {
            position: relative;
        }
        
        .facebook-post.post-has-banner {
            position: relative;
        }

        .facebook-post:hover {
            background: white !important;
            border-color: #dddfe2;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        }

        .post-header {
            display: flex;
            align-items: flex-start;
            padding: clamp(12px, 2.5vw, 16px) clamp(16px, 3vw, 20px) clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 20px);
            width: 100%;
            gap: clamp(8px, 1.5vw, 12px);
            box-sizing: border-box;
        }

        /* Avatar Component */
        .avatar {
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            font-weight: 600;
            background: var(--primary-gradient);
        }

        .avatar-sm {
            width: clamp(32px, 7vw, 40px);
            height: clamp(32px, 7vw, 40px);
            font-size: clamp(11px, 2.2vw, 14px);
            background: linear-gradient(135deg, #42a5f5, #1e88e5);
            color: white;
            font-weight: 600;
            border: 2px solid #ffffff;
            box-shadow: 0 0 0 1px #000000, 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .avatar-md {
            width: 40px;
            height: 40px;
            font-size: 14px;
            border: 2px solid #ffffff;
            box-shadow: 0 0 0 1px #000000, 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .avatar-lg {
            width: 48px;
            height: 48px;
            font-size: 16px;
        }

        .post-avatar {
            margin-left: 0;
            flex-shrink: 0;
        }

        .post-info {
            flex: 1;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: clamp(1px, 0.3vw, 2px);
            padding-top: clamp(1px, 0.3vw, 2px);
        }
        
        .post-info h3 {
            font-size: clamp(13px, 2.8vw, 15px);
            font-weight: 600;
            color: #1c1e21;
            margin: 0;
            line-height: 1.3;
            cursor: pointer;
        }
        
        .post-info h3:hover {
            text-decoration: underline;
        }
        
        .post-options {
            position: absolute;
            top: clamp(12px, 2.5vw, 16px);
            left: clamp(12px, 2.5vw, 16px);
            width: clamp(24px, 5vw, 32px);
            height: clamp(24px, 5vw, 32px);
            border-radius: 50%;
            background: transparent;
            border: none;
            color: #65676b;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(16px, 3.5vw, 20px);
            transition: background 0.2s ease;
        }
        
        .post-options:hover {
            background: #f2f3f4;
        }

        .post-info span {
            font-size: clamp(11px, 2.2vw, 13px);
            color: #65676b;
            line-height: 1.3;
            cursor: pointer;
        }
        
        .post-info span:hover {
            text-decoration: underline;
        }

        .post-content {
            font-size: clamp(14px, 3vw, 16px);
            color: #1c1e21;
            line-height: 1.33;
            padding: 0 clamp(16px, 3vw, 20px) clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 20px);
            width: 100%;
            word-wrap: break-word;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            box-sizing: border-box;
        }

        .post-actions {
            display: flex !important;
            border-top: 1px solid #dadde1 !important;
            padding: clamp(6px, 1.2vw, 8px) clamp(16px, 3vw, 20px) !important;
            margin: 0 !important;
            justify-content: space-between !important;
            gap: clamp(4px, 0.8vw, 8px) !important;
            flex-wrap: nowrap !important;
            width: 100% !important;
            box-sizing: border-box !important;
        }

        .post-action {
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            color: #65676b !important;
            font-size: clamp(11px, 2.2vw, 13px) !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            padding: clamp(4px, 0.8vw, 6px) clamp(6px, 1.2vw, 10px) !important;
            border-radius: 6px !important;
            background: transparent !important;
            border: none !important;
            flex: 1 !important;
            gap: clamp(3px, 0.6vw, 5px) !important;
            max-width: 100% !important;
            overflow: hidden !important;
        }

        .post-action:hover {
            background: #f2f3f4;
            color: #1c1e21;
        }
        
        .post-action.like-action:hover {
            color: #1877f2;
        }
        
        .post-action.comment-action:hover {
            color: #65676b;
        }
        
        .post-action.share-action:hover {
            color: #65676b;
        }

        .post-action i {
            margin-left: 0;
            font-size: clamp(12px, 2.5vw, 14px);
            flex-shrink: 0;
        }
        
        /* Ensure post-actions styling is preserved even with comments */
        .facebook-post .post-actions {
            display: flex !important;
            border-top: 1px solid #dadde1 !important;
            padding: clamp(6px, 1.2vw, 8px) clamp(16px, 3vw, 20px) !important;
            margin: 0 !important;
            justify-content: space-between !important;
            gap: clamp(4px, 0.8vw, 8px) !important;
            flex-wrap: nowrap !important;
            width: 100% !important;
            box-sizing: border-box !important;
        }
        
        /* Ensure post-action buttons maintain proper sizing with comments */
        .facebook-post .post-action {
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            color: #65676b !important;
            font-size: clamp(11px, 2.2vw, 13px) !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            padding: clamp(4px, 0.8vw, 6px) clamp(6px, 1.2vw, 10px) !important;
            border-radius: 6px !important;
            background: transparent !important;
            border: none !important;
            flex: 1 !important;
            gap: clamp(3px, 0.6vw, 5px) !important;
            max-width: 100% !important;
            overflow: hidden !important;
            white-space: nowrap !important;
            text-overflow: ellipsis !important;
        }
        
        /* Facebook-style post reactions */
        .post-reactions {
            display: flex;
            align-items: center;
            padding: clamp(8px, 1.5vw, 12px) clamp(16px, 3vw, 20px) 0;
            gap: clamp(4px, 0.8vw, 6px);
            font-size: clamp(11px, 2.2vw, 13px);
            color: #65676b;
        }
        
        .reaction-count {
            cursor: pointer;
        }
        
        .reaction-count:hover {
            text-decoration: underline;
        }
        
        .reaction-icons {
            display: flex;
            gap: -2px;
        }
        
        .reaction-icon {
            width: clamp(16px, 3.5vw, 18px);
            height: clamp(16px, 3.5vw, 18px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(10px, 2vw, 12px);
            margin-right: -2px;
            border: 1px solid white;
        }
        
        .reaction-like {
            background: #1877f2;
            color: white;
        }
        
        .reaction-love {
            background: #e41e3f;
            color: white;
        }
        
        .reaction-wow {
            background: #f7b928;
            color: white;
        }
        
        /* Ensure comment bubbles are always Facebook gray */
        .comment-bubble,
        .comment-bubble * {
            background: #f0f2f5 !important;
        }
        
        .comment-bubble .typing-indicator,
        .comment-bubble .typing-indicator * {
            background: transparent !important;
        }

        .hot-post {
            border: 2px solid #10b981 !important;
            background: white !important;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3) !important;
            position: relative;
        }

        .fire-icon {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ef4444;
            color: var(--text-primary);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            animation: bounce 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            50% { box-shadow: 0 0 0 8px rgba(239, 68, 68, 0); }
        }


        /* Testimonials */
        .testimonials {
            padding: 80px 0;
            background: var(--bg-gray);
        }

        .testimonials .container {
            position: relative;
            z-index: 2;
        }

        .testimonials .section-header h2 {
            color: var(--text-primary);
        }

        .testimonials .section-header p {
            color: var(--text-secondary);
        }

        .testimonials .section-badge {
            background: rgba(59, 130, 246, 0.15);
            color: var(--secondary-blue);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 32px;
            margin-top: 80px;
        }

        .testimonial-card {
            background: var(--bg-light);
            padding: 24px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-light);
            transition: box-shadow 0.2s ease;
            box-shadow: var(--shadow-sm);
        }

        .testimonial-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .testimonial-text {
            font-size: 16px;
            color: var(--text-primary);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
        }

        .author-avatar {
            margin-left: 16px;
        }

        .author-info h4 {
            font-size: 16px;
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 2px;
        }

        .author-info span {
            font-size: 14px;
            color: #94a3b8;
        }

        .stars {
            color: #fbbf24;
            margin-bottom: 16px;
        }


        /* Pricing */
        .pricing {
            background: var(--bg-light);
            color: var(--text-primary);
            padding: 80px 0;
            text-align: center;
        }


        .pricing .container {
            position: relative;
            z-index: 2;
        }

        .pricing-header {
            margin-bottom: 80px;
        }

        .pricing-header h2 {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 24px;
        }

        .pricing-header p {
            font-size: 20px;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 32px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .pricing-card {
            background: var(--bg-light);
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius);
            padding: 32px;
            box-shadow: var(--shadow-sm);
            transition: box-shadow 0.2s ease;
        }

        .pricing-card.featured {
            border-color: var(--secondary-blue);
            box-shadow: 0 0 40px rgba(59, 130, 246, 0.3);
        }

        .pricing-card.featured::before {
            content: 'הכי פופולרי';
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(50%);
            background: var(--secondary-blue);
            color: var(--text-primary);
            padding: 6px 16px;
            border-radius: var(--border-radius-xl);
            font-size: 12px;
            font-weight: 600;
        }

        .pricing-card:hover {
            transform: translateY(-8px);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .pricing-plan {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .pricing-price {
            font-size: 48px;
            font-weight: 900;
            margin-bottom: 8px;
            color: var(--secondary-blue);
        }

        .pricing-period {
            color: var(--text-muted);
            margin-bottom: 32px;
        }

        .pricing-features {
            list-style: none;
            text-align: right;
            margin-bottom: 32px;
        }

        .pricing-features li {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-size: 15px;
        }

        .pricing-features i {
            color: var(--ai-purple);
            margin-left: 12px;
            width: 16px;
        }

        .pricing-cta {
            background: var(--secondary-blue);
            width: 100%;
            display: block;
        }

        .pricing-cta:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        /* Comparison Table - Clean Build */
        .comparison-section {
            padding: 80px 0;
            background: var(--bg-gray);
        }

        .comparison-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 70% 30%, rgba(59, 130, 246, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .comparison-section .container {
            position: relative;
            z-index: 2;
        }

        .comparison-table {
            margin: 60px auto;
            max-width: 1200px;
            display: grid;
            grid-template-columns: 1.5fr 1fr 1fr 1fr;
            gap: 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius-xl);
            padding: 30px;
        }
        
        .comparison-column {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-light);
            border-radius: var(--border-radius);
            padding: 0;
            backdrop-filter: blur(10px);
        }
        
        .comparison-column.featured {
            box-shadow: 0 4px 15px rgba(255, 49, 49, 0.3);
            border: 1px solid rgba(255, 49, 49, 0.2);
            animation: featuredGlow 3s ease-in-out infinite;
        }
        
        .comparison-header-cell {
            padding: 20px 16px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 16px;
            background: var(--bg-light);
            border-bottom: 1px solid var(--border-light);
            min-height: 60px;
        }
        
        .comparison-cell {
            padding: 16px 12px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 15px;
            min-height: 50px;
        }
        
        @keyframes featuredGlow {
            0%, 100% { 
                box-shadow: 0 4px 15px rgba(255, 49, 49, 0.3);
                transform: translateY(0);
            }
            50% { 
                box-shadow: 0 8px 25px rgba(255, 49, 49, 0.5);
                transform: translateY(-2px);
            }
        }

        
        .comparison-header-cell {
            padding: 20px 16px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60px;
            font-weight: 700;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        
        .comparison-cell {
            padding: 16px 12px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 15px;
            min-height: 50px;
        }
        
        .comparison-cell:first-child {
            font-weight: 600;
        }
        
        .comparison-cell.featured {
            font-weight: 600;
        }
        
        
        .comparison-cell.positive {
            font-weight: 600;
        }
        
        .price-cell.expensive {
            font-weight: 700;
        }
        
        .price-cell.affordable {
            font-weight: 700;
        }

        /* Contact Form Section */
        .contact-section {
            padding: 80px 0;
            background: var(--bg-light);
            color: var(--text-primary);
        }

        .contact-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.06) 0%, transparent 50%);
            pointer-events: none;
        }

        .contact-section .container {
            position: relative;
            z-index: 2;
        }

        .contact-container {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
            animation: fadeInUp 0.8s ease-out;
        }

        .contact-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            font-size: 32px;
            animation: pulse 2s ease-in-out infinite, float 3s ease-in-out infinite;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .contact-form {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius-xl);
            backdrop-filter: blur(15px);
            padding: 40px;
            margin-top: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 40px rgba(96, 165, 250, 0.1);
            animation: slideInFromBottom 0.8s ease-out 0.3s both;
        }

        @keyframes slideInFromBottom {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 24px;
            text-align: right;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            font-size: 16px;
            animation: slideInFromRight 0.6s ease-out;
        }

        .form-input {
            width: 100%;
            padding: 16px;
            border: 2px solid var(--border-light);
            border-radius: var(--border-radius);
            font-size: 16px;
            transition: all 0.3s ease;
            box-sizing: border-box;
            background: var(--bg-light);
            color: var(--text-primary);
        }

        .form-input::placeholder {
            color: var(--text-muted);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--ai-purple);
            box-shadow: 0 0 0 3px rgba(76, 29, 149, 0.2);
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.02);
        }

        .form-benefits {
            display: flex;
            justify-content: center;
            gap: 32px;
            margin-top: 24px;
            flex-wrap: wrap;
        }

        .form-benefit {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .form-benefit i {
            color: var(--success-green);
        }

        /* Tablet and medium screens */
        @media (max-width: 1200px) and (min-width: 769px) {
            /* Hero adjustments */
            .hero h1 {
                font-size: clamp(40px, 5vw, 48px);
            }
            
            .hero .subtitle {
                font-size: 20px;
            }
            
            /* Demo section */
            .demo-container {
                grid-template-columns: 1fr 1fr;
                gap: clamp(20px, 3vw, 40px);
                max-width: 95vw;
            }

            #demoLeftSide, #demoRightSide {
                width: 100%;
                min-width: 0;
                height: clamp(400px, 50vh, 500px);
                max-height: none;
            }

            #demoRightSide {
                padding: clamp(16px, 2vw, 24px);
                gap: 12px;
            }
            
            /* Testimonials and pricing */
            .testimonials-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 32px;
            }
            
            .pricing-cards {
                grid-template-columns: 1fr;
                max-width: 600px;
                margin: 0 auto;
            }
            
            /* Stats */
            .stats-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 32px;
            }
            
            /* Section headers */
            .section-header h2 {
                font-size: clamp(32px, 4vw, 42px);
            }
            
            /* Contact form tablet layout */
            .form-row-responsive {
                grid-template-columns: 1fr 1fr;
                gap: 16px;
            }
        }

        /* Hide mobile comparison cards on desktop */
        @media (min-width: 769px) {
            .comparison-mobile-cards {
                display: none;
            }
        }
        
        /* Mobile and small tablet design */
        @media (max-width: 768px) {
            /* Global heading consistency for mobile */
            h1 {
                font-size: clamp(28px, 6vw, 36px) !important;
                line-height: 1.2 !important;
                font-family: inherit !important;
                color: var(--text-primary) !important;
                font-weight: 700 !important;
            }
            
            h2 {
                font-size: clamp(28px, 6vw, 36px) !important;
                line-height: 1.2 !important;
                font-family: inherit !important;
                color: var(--text-primary) !important;
                font-weight: 700 !important;
            }
            
            .section-subtitle,
            .hero .subtitle,
            .section-header p {
                font-size: 16px !important;
                line-height: 1.5 !important;
                font-family: inherit !important;
                color: var(--text-secondary) !important;
            }
            
            h3 {
                font-size: 20px !important;
                font-weight: 700 !important;
                line-height: 1.3 !important;
                font-family: inherit !important;
                color: var(--text-primary) !important;
            }
            /* Header mobile improvements */
            .header {
                padding: 12px 0;
            }
            
            .header-content {
                padding: 0 16px;
                position: relative;
            }
            
            .logo-section h1 {
                font-size: 20px;
            }
            
            .logo-text {
                font-size: 18px;
            }
            
            /* Hide navigation on mobile to make room for CTA */
            .nav-container {
                display: none;
            }
            
            /* Improved mobile CTA button */
            .header-cta-section {
                flex-shrink: 0;
            }
            
            .header-cta-section .cta-button {
                padding: 10px 18px;
                font-size: 13px;
                border-radius: 8px;
                min-width: 120px;
                text-align: center;
            }
            
            .cta-text {
                font-size: 13px;
                white-space: nowrap;
            }
            
            .cta-icon {
                font-size: 12px;
            }
            
            /* Mobile menu toggle - show when needed */
            .mobile-menu-toggle {
                display: flex;
                margin-left: 12px;
            }
            
            .mobile-menu-toggle span {
                background: var(--text-primary);
            }
            
            /* Hero responsive */
            .hero {
                padding: 70px 0 50px;
                margin-top: 60px; /* Account for fixed header */
            }
            
            .hero-content {
                padding: 0 16px;
                text-align: center;
            }
            
            .hero h1 {
                font-size: clamp(28px, 6vw, 36px);
                line-height: 1.2;
                margin-bottom: 20px;
                text-align: center;
            }
            
            .hero .subtitle {
                font-size: 17px;
                line-height: 1.5;
                margin-bottom: 32px;
                color: var(--text-secondary);
                max-width: 100%;
                text-align: center;
            }
            
            .hero-badge {
                font-size: 12px;
                padding: 8px 14px;
                margin-bottom: 20px;
                margin-left: auto;
                margin-right: auto;
                display: inline-flex;
                justify-content: center;
                border-radius: 20px;
                background: rgba(76, 29, 149, 0.1);
                border: 1px solid rgba(76, 29, 149, 0.2);
                color: var(--ai-purple);
                font-weight: 600;
            }
            
            .hero-cta-group {
                flex-direction: column;
                align-items: center;
                gap: 16px;
                padding: 0 8px;
            }
            
            .hero-cta-group .btn-base {
                width: 100%;
                max-width: 320px;
                font-size: 16px;
                padding: 18px 24px;
                border-radius: 12px;
                text-align: center;
                font-weight: 600;
            }
            
            .hero-cta-group .cta-primary {
                order: 1;
            }
            
            .hero-cta-group .cta-secondary {
                order: 2;
                background: transparent;
                border: 2px solid var(--border-light);
                color: var(--text-primary);
                font-weight: 600;
            }
            
            .demo-container {
                grid-template-columns: 1fr;
                gap: 16px;
                justify-content: center;
                padding: 0; /* הסרת padding כדי לאפשר הרחבה מלאה */
                width: 100vw;
                max-width: none;
                margin: 0 calc(-1 * (100vw - 100%) / 2); /* מרכז הקונטיינר ביחס לאתר */
                overflow-x: hidden;
            }

            #demoLeftSide, #demoRightSide {
                width: 100vw;
                min-width: 100vw;
                max-width: 100vw;
                height: clamp(400px, 70vh, 500px);
                max-height: none;
                margin: 0;
                padding: 0;
                border-radius: 0;
                border-left: none;
                border-right: none;
                box-sizing: border-box;
            }

            #demoRightSide {
                padding: clamp(12px, 4vw, 20px);
                gap: clamp(8px, 2vw, 12px);
            }
            
            /* Form responsive design */
            .form-row-responsive {
                grid-template-columns: 1fr !important;
                gap: 0 !important;
            }
            
            .form-row-responsive .form-group {
                margin-bottom: 24px !important;
            }
            
            /* Demo section mobile - preserve logic while improving responsiveness */
            .demo {
                padding: 50px 0 !important;
                height: 900px !important;
                overflow: visible !important;
            }
            
            .demo .container {
                padding: 0; /* הסרת padding כדי שהפיד פייסבוק יתפרס למלוא הרוחב */
            }
            
            .demo .section-header {
                margin-bottom: 30px !important;
                text-align: center;
                padding: 0 16px; /* שמירת padding רק לכותרת הסקציה */
            }
            
            .demo .section-header h2 {
                font-size: clamp(28px, 6vw, 36px) !important;
                line-height: 1.2;
                margin-bottom: 12px;
                color: var(--text-primary);
            }
            
            .demo .section-header p {
                font-size: 16px;
                line-height: 1.5;
                color: var(--text-secondary);
                max-width: 90%;
                margin: 0 auto;
            }
            
            /* Fixed height container mobile optimization */
            .demo > .container > div[style*="height: 200px"] {
                height: auto !important;
                margin-bottom: 0 !important;
            }

            /* Facebook Mobile Feed Container */
            .social-feed-demo {
                background: #f0f2f5 !important;
                border-radius: 0 !important;
                padding: 0 !important;
                border: none !important;
                box-shadow: none !important;
                height: 100% !important;
                overflow-y: auto !important;
                -webkit-overflow-scrolling: touch !important;
            }
            
            .facebook-header {
                background: #4267B2 !important;
                color: white !important;
                padding: 12px 16px !important;
                border-radius: 0 !important;
                margin-bottom: 0 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                font-size: 16px !important;
                font-weight: 600 !important;
                border-bottom: 1px solid rgba(255,255,255,0.2) !important;
            }
            
            .demo-container {
                margin-top: 0px !important;
            }
            
            .facebook-post {
                background: white !important;
                border-radius: 0 !important;
                padding: 0 !important;
                margin: 0 0 8px 0 !important;
                border: none !important;
                box-shadow: none !important;
                border-bottom: 1px solid #e4e6ea !important;
                width: 100% !important;
                min-width: 0 !important;
                max-width: 100% !important;
            }
            
            .post-header {
                padding: 16px 16px 0 16px !important;
                display: flex !important;
                align-items: center !important;
                gap: 12px !important;
                flex-wrap: nowrap !important;
                width: 100% !important;
                box-sizing: border-box !important;
            }
            
            /* Facebook Mobile Avatar */
            .post-header .avatar-sm {
                width: 40px !important;
                height: 40px !important;
                border-radius: 50% !important;
                background: #1877f2 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                color: white !important;
                font-size: 16px !important;
                font-weight: 600 !important;
                flex-shrink: 0 !important;
            }
            
            /* Facebook Mobile User Info */
            .user-info {
                flex: 1 !important;
                min-width: 0 !important;
            }
            
            .user-info h4 {
                font-size: 15px !important;
                font-weight: 600 !important;
                color: #1c1e21 !important;
                margin: 0 0 2px 0 !important;
                line-height: 1.2 !important;
            }
            
            .user-info .post-time {
                font-size: 13px !important;
                color: #65676b !important;
                font-weight: 400 !important;
                line-height: 1 !important;
            }
            
            /* Facebook Mobile Post Content */
            .post-content {
                padding: 16px 16px 16px 16px !important;
                font-size: 15px !important;
                line-height: 1.4 !important;
                color: #1c1e21 !important;
                font-weight: 400 !important;
                margin: 0 !important;
                width: 100% !important;
                box-sizing: border-box !important;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif !important;
            }
            
            /* Facebook Mobile Action Buttons */
            .post-actions,
            .facebook-post .post-actions {
                display: flex !important;
                border-top: 1px solid #dadde1 !important;
                padding: 0 8px !important;
                margin: 0 !important;
                justify-content: space-around !important;
                align-items: center !important;
                width: 100% !important;
                box-sizing: border-box !important;
                height: 48px !important;
                min-height: 48px !important;
            }
            
            .post-action,
            .facebook-post .post-action {
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                color: #65676b !important;
                font-size: 15px !important;
                font-weight: 600 !important;
                cursor: pointer !important;
                transition: background-color 0.1s ease !important;
                padding: 0 8px !important;
                border-radius: 6px !important;
                background: transparent !important;
                border: none !important;
                flex: 1 !important;
                height: 40px !important;
                min-height: 40px !important;
                gap: 8px !important;
                margin: 0 4px !important;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif !important;
            }
            
            .post-action:hover {
                background-color: #f2f3f4 !important;
            }
            
            .post-action i {
                font-size: 16px !important;
                margin-right: 6px !important;
            }
            
            /* Remove rounded corners from demo container on mobile */
            .demo-video.demo-side {
                border-radius: 0 !important;
            }
            
            /* Ensure proper mobile spacing */
            .demo .container > div[style*="height: 200px"] {
                height: auto !important;
            }
            
            /* Very small screens adjustments for Facebook feed */
            @media (max-width: 380px) {
                .post-header .avatar-sm {
                    width: 36px !important;
                    height: 36px !important;
                    font-size: 14px !important;
                }
                
                .user-info h4 {
                    font-size: 14px !important;
                }
                
                .user-info .post-time {
                    font-size: 12px !important;
                }
                
                .post-content {
                    font-size: 13px !important;
                }
                
                .post-action {
                    font-size: 14px !important;
                }
                
                .post-action i {
                    font-size: 14px !important;
                }
            }
            
            /* Messenger popup mobile adjustments */
            @media (max-width: 768px) {
                .demo-container [style*="position: relative"][style*="margin: 20px auto"] {
                    width: 95vw !important;
                    height: 60vh !important;
                    margin: 10px auto 0 auto !important;
                    max-width: none !important;
                }
            }
            
            .section-title {
                font-size: clamp(24px, 5vw, 32px);
            }
            
            .demo-progress {
                flex-wrap: nowrap;
                gap: 4px;
                justify-content: space-between;
                padding: 8px 12px;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scroll-behavior: smooth;
            }
            
            .progress-step {
                flex: 1;
                min-width: 0;
                font-size: 11px;
                padding: 6px 4px;
                white-space: nowrap;
                text-align: center;
                border-radius: 4px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .progress-step span {
                display: block;
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
                max-width: 100%;
            }
            
            .progress-arrow {
                font-size: 10px;
                margin: 0 2px;
                flex-shrink: 0;
                display: none;
            }
            
            /* Shorten text for mobile using pseudo-elements */
            #step-analysis span::after { content: "ניתוח"; }
            #step-response span::after { content: "תגובה"; } 
            #step-messenger span::after { content: "מסנגר"; }
            #step-complete span::after { content: "סיום"; }
            
            #step-analysis span,
            #step-response span,
            #step-messenger span,
            #step-complete span {
                font-size: 0; /* Hide original text */
            }
            
            #step-analysis span::after,
            #step-response span::after,
            #step-messenger span::after,
            #step-complete span::after {
                font-size: 11px; /* Show shortened text */
            }
            
            /* Stabilize status text on mobile */
            #demoStatus {
                min-height: 45px !important;
                height: auto !important;
                overflow: visible !important;
                font-size: 14px !important;
                line-height: 1.3 !important;
            }
            
            /* Reduce spacing on mobile */
            #greenIndicator {
                margin: 0 auto 5px auto !important;
            }
            
            .demo-progress {
                margin-bottom: 15px !important;
            }
            
            /* Stats section responsive */
            .stats {
                padding: 50px 0;
                background: var(--bg-gray);
            }
            
            .stats .container {
                padding: 0 16px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 28px;
                margin-top: 36px;
            }
            
            .stats .section-header {
                margin-bottom: 36px;
                text-align: center;
            }
            
            .stats .section-header h2 {
                font-size: clamp(28px, 6vw, 36px);
                margin-bottom: 12px;
                color: var(--text-primary);
                font-weight: 800;
            }
            
            .stats .section-subtitle {
                font-size: 16px;
                color: var(--text-secondary);
                line-height: 1.5;
            }
            
            .stats .testimonial-card {
                padding: 24px;
                border-radius: 16px;
                background: white;
                box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                border: 1px solid var(--border-light);
                text-align: center;
            }
            
            /* Testimonials responsive */
            .testimonials {
                padding: 50px 0;
            }
            
            .testimonials .container {
                padding: 0 16px;
            }
            
            .testimonials-grid {
                grid-template-columns: 1fr;
                gap: 24px;
                margin-top: 36px;
            }
            
            .testimonial-card {
                padding: 24px;
                border-radius: 16px;
                background: white;
                box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                border: 1px solid var(--border-light);
            }
            
            .testimonial-text {
                font-size: 16px;
                line-height: 1.6;
                margin-bottom: 20px;
                color: var(--text-primary);
            }
            
            .testimonials .section-header {
                text-align: center;
                margin-bottom: 36px;
            }
            
            .testimonials .section-header h2 {
                font-size: clamp(28px, 6vw, 36px);
                margin-bottom: 12px;
                color: var(--text-primary);
                font-weight: 800;
            }
            
            .testimonials .section-subtitle {
                font-size: 16px;
                color: var(--text-secondary);
                line-height: 1.5;
                max-width: 90%;
                margin: 0 auto;
            }
            
            /* Pricing responsive */
            .pricing {
                padding: 50px 0;
                background: var(--bg-light);
            }
            
            .pricing .container {
                padding: 0 16px;
            }
            
            .pricing-cards {
                grid-template-columns: 1fr;
                gap: 28px;
                margin-top: 36px;
            }
            
            .pricing .section-header {
                text-align: center;
                margin-bottom: 36px;
            }
            
            .pricing .section-header h2 {
                font-size: clamp(28px, 6vw, 36px);
                margin-bottom: 12px;
                color: var(--text-primary);
                font-weight: 800;
            }
            
            .pricing .section-subtitle {
                font-size: 16px;
                color: var(--text-secondary);
                line-height: 1.5;
                max-width: 90%;
                margin: 0 auto;
            }
            
            .pricing-card {
                padding: 28px 24px;
                border-radius: 16px;
                background: white;
                box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                border: 2px solid var(--border-light);
                text-align: center;
            }
            
            .pricing-card.featured {
                border-color: var(--ai-purple);
                box-shadow: 0 8px 24px rgba(76, 29, 149, 0.2);
            }
            
            /* Comparison table responsive - Convert to cards */
            .comparison-section {
                padding: 50px 0;
                background: var(--bg-gray);
            }
            
            .comparison-section .container {
                padding: 0 16px;
            }
            
            .comparison-section .section-header {
                text-align: center;
                margin-bottom: 36px;
            }
            
            .comparison-section .section-header h2 {
                font-size: clamp(28px, 6vw, 36px);
                margin-bottom: 12px;
                color: var(--text-primary);
                font-weight: 800;
            }
            
            .comparison-table {
                display: none; /* Hide original table on mobile */
            }
            
            /* Mobile comparison cards */
            .comparison-mobile-cards {
                display: flex;
                flex-direction: column;
                gap: 20px;
                margin-top: 36px;
            }
            
            .comparison-card {
                background: white;
                border-radius: 16px;
                padding: 24px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                border: 2px solid var(--border-light);
            }
            
            .comparison-card.featured {
                border-color: var(--ai-purple);
                box-shadow: 0 8px 24px rgba(76, 29, 149, 0.2);
                position: relative;
            }
            
            .comparison-card.featured::before {
                content: "מומלץ";
                position: absolute;
                top: -10px;
                right: 20px;
                background: var(--ai-purple);
                color: white;
                padding: 4px 12px;
                border-radius: 20px;
                font-size: 12px;
                font-weight: 600;
            }
            
            .comparison-card h3 {
                font-size: 20px;
                font-weight: 700;
                margin-bottom: 16px;
                color: var(--text-primary);
                text-align: center;
            }
            
            .comparison-feature {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 12px 0;
                border-bottom: 1px solid var(--border-light);
            }
            
            .comparison-feature:last-child {
                border-bottom: none;
            }
            
            .comparison-feature-name {
                font-size: 14px;
                color: var(--text-secondary);
                font-weight: 500;
            }
            
            .comparison-feature-value {
                font-size: 14px;
                color: var(--text-primary);
                font-weight: 600;
            }
            
            .comparison-feature-value.check {
                color: var(--success-green);
            }
            
            .comparison-feature-value.cross {
                color: #dc2626;
            }
            
            /* Contact section responsive */
            .contact {
                padding: 50px 0;
                background: var(--bg-light);
            }
            
            .contact .container {
                padding: 0 16px;
            }
            
            .contact-container {
                max-width: 100%;
                margin: 0 auto;
                text-align: center;
            }
            
            .contact .section-header {
                margin-bottom: 36px;
                text-align: center;
            }
            
            .contact .section-header h2 {
                font-size: clamp(28px, 6vw, 36px);
                margin-bottom: 12px;
                color: var(--text-primary);
                font-weight: 800;
            }
            
            .contact .section-subtitle {
                font-size: 16px;
                color: var(--text-secondary);
                line-height: 1.5;
                max-width: 90%;
                margin: 0 auto;
            }
            
            .contact-form {
                background: white;
                padding: 32px 24px;
                border-radius: 16px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                border: 1px solid var(--border-light);
                max-width: 100%;
                margin: 0 auto;
            }
            
            .form-group {
                margin-bottom: 20px;
                text-align: right;
            }
            
            .form-group label {
                display: block;
                font-size: 14px;
                font-weight: 600;
                color: var(--text-primary);
                margin-bottom: 6px;
            }
            
            .form-group input,
            .form-group select,
            .form-group textarea {
                width: 100%;
                padding: 14px 16px;
                border: 2px solid var(--border-light);
                border-radius: 8px;
                font-size: 16px;
                font-family: inherit;
                background: white;
                transition: border-color 0.3s ease;
            }
            
            .form-group input:focus,
            .form-group select:focus,
            .form-group textarea:focus {
                outline: none;
                border-color: var(--ai-purple);
                box-shadow: 0 0 0 3px rgba(76, 29, 149, 0.1);
            }
            
            .form-row {
                display: grid;
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .contact-form button {
                width: 100%;
                padding: 18px 24px;
                background: var(--ai-purple);
                color: white;
                border: none;
                border-radius: 12px;
                font-size: 16px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s ease;
                margin-top: 12px;
            }
            
            .contact-form button:hover {
                background: #3730a3;
                transform: translateY(-2px);
                box-shadow: 0 8px 24px rgba(76, 29, 149, 0.3);
            }
            
            .contact .container {
                padding: 0 16px;
            }
            
            .contact-content {
                max-width: 100%;
                padding: 32px 20px;
            }
            
            .contact h2 {
                font-size: clamp(32px, 7vw, 42px);
                line-height: 1.2;
            }
            
            .contact p {
                font-size: 16px;
                line-height: 1.5;
            }
            
            /* Section headers global */
            .section-header {
                margin-bottom: 40px;
            }
            
            .section-header h2 {
                font-size: clamp(28px, 6vw, 36px);
                line-height: 1.2;
            }
            
            .section-header p {
                font-size: 16px;
                line-height: 1.5;
            }
            
            .section-badge {
                font-size: 12px;
                padding: 4px 8px;
            }
        }
        
        /* Very small screens (iPhone SE, etc.) */
        @media (max-width: 480px) {
            /* Additional Facebook Mobile improvements for small screens */
            .facebook-post {
                margin-bottom: 6px !important;
            }
            
            .post-header {
                padding: 10px 12px 0 12px !important;
                gap: 10px !important;
            }
            
            .post-content {
                padding: 10px 12px 12px 12px !important;
            }
            /* Global heading consistency for very small screens */
            h1 {
                font-size: clamp(24px, 6vw, 32px) !important;
                line-height: 1.2 !important;
                font-family: inherit !important;
                color: var(--text-primary) !important;
                font-weight: 700 !important;
            }
            
            h2 {
                font-size: clamp(24px, 6vw, 32px) !important;
                line-height: 1.2 !important;
                font-family: inherit !important;
                color: var(--text-primary) !important;
                font-weight: 700 !important;
            }
            
            .section-subtitle,
            .hero .subtitle,
            .section-header p {
                font-size: 15px !important;
                line-height: 1.5 !important;
                font-family: inherit !important;
                color: var(--text-secondary) !important;
            }
            
            h3 {
                font-size: 18px !important;
                font-weight: 700 !important;
                line-height: 1.3 !important;
                font-family: inherit !important;
                color: var(--text-primary) !important;
            }
            /* Header adjustments for very small screens */
            .header-content {
                padding: 0 12px;
            }
            
            .logo-text {
                font-size: 16px;
            }
            
            .header-cta-section .cta-button {
                padding: 8px 14px;
                font-size: 12px;
                min-width: 100px;
            }
            
            .mobile-menu-toggle {
                margin-left: 8px;
            }
            
            /* Hero section for very small screens */
            .hero h1 {
                font-size: clamp(24px, 5vw, 32px);
                line-height: 1.1;
            }
            
            .hero .subtitle {
                font-size: 16px;
                line-height: 1.4;
            }
            
            .hero-content {
                padding: 0 12px;
            }
            
            .hero-cta-group .btn-base {
                max-width: 280px;
                font-size: 14px;
                padding: 14px 20px;
            }
            
            .section-header h2 {
                font-size: clamp(28px, 6vw, 36px);
            }
            
            .section-header p {
                font-size: 16px;
            }
            
            /* Contact section for very small screens */
            .contact .container {
                padding: 0 12px;
            }
            
            .contact-form {
                padding: 24px 20px;
                border-radius: 12px;
            }
            
            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 12px 14px;
                font-size: 16px; /* Keep 16px to prevent zoom on iOS */
            }
            
            .contact-form button {
                padding: 16px 20px;
                font-size: 16px;
            }
            
            /* Additional mobile optimizations */
            .stats .testimonial-card {
                padding: 20px;
            }
            
            .testimonial-card {
                padding: 20px;
            }
            
            .pricing-card {
                padding: 24px 20px;
            }
            
            .comparison-card {
                padding: 20px;
            }
            
            .hero-badge {
                padding: 6px 12px;
                font-size: 11px;
            }
            
            /* General mobile improvements */
            .container {
                padding: 0 12px;
            }
            
            .btn-base {
                font-size: 14px;
                padding: 14px 20px;
            }
            
            /* Ensure proper spacing on all sections */
            section {
                padding: 40px 0;
            }
            
            /* Typography improvements for very small screens */
            .section-badge {
                font-size: 11px;
                padding: 3px 8px;
            }
            
            .testimonial-author h4 {
                font-size: 14px;
            }
            
            .testimonial-author span {
                font-size: 12px;
            }
            
            .avatar {
                width: 40px;
                height: 40px;
                font-size: 14px;
            }
            
            .contact-content {
                padding: 24px 16px;
            }
            
            .contact h2 {
                font-size: clamp(28px, 6vw, 36px);
            }
            
            .contact p {
                font-size: 14px;
            }
            
            .testimonial-card {
                padding: 16px;
            }
            
            .testimonial-text {
                font-size: 14px;
            }
            
            .pricing-card {
                padding: 20px;
            }
            
            .form-input, .form-label {
                font-size: 14px;
            }
            
            .btn-base {
                font-size: 14px;
                padding: 12px 20px;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes bannerSlideIn {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        @keyframes modernBannerSlideIn {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.85) translateY(-20px);
                filter: blur(4px);
            }
            60% {
                opacity: 0.8;
                transform: translate(-50%, -50%) scale(1.02) translateY(-5px);
                filter: blur(0px);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) translateY(0);
                filter: blur(0px);
            }
        }

        @keyframes bannerSlideOut {
            from {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            to {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
        }

        /* Demo Progress and Focus Styles */
        .demo-progress {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 24px auto;
            padding: 12px 20px;
            background: rgba(248, 250, 252, 0.8);
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            max-width: 500px;
        }

        .progress-step {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            color: #64748b;
            background: transparent;
            text-align: center;
            white-space: nowrap;
        }

        .progress-step.active {
            background: #3b82f6;
            color: white;
            font-weight: 600;
        }

        .progress-step.completed {
            color: #10b981;
            background: #f0f9ff;
        }

        .progress-arrow {
            color: #cbd5e1;
            margin: 0 8px;
            font-size: 12px;
            font-weight: normal;
        }

        .demo-side {
            transition: all 0.4s ease;
            border-radius: 12px;
            position: relative;
        }
        
        /* Make right side fully responsive */
        #demoRightSide {
            width: 100%;
            min-width: 0;
            height: clamp(500px, 55vh, 600px);
            min-height: clamp(450px, 50vh, 500px);
            max-height: none;
            border: 1px solid var(--border-light);
            background: var(--bg-light);
            border-radius: clamp(8px, 1.5vw, 12px);
            padding: clamp(16px, 3vw, 24px);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            gap: clamp(12px, 2vw, 20px);
            box-sizing: border-box;
            overflow-y: auto;
            box-shadow: var(--shadow-sm);
        }
        
        #demoLeftSide {
            width: 100%;
            min-width: 0;
            height: clamp(500px, 55vh, 600px);
            min-height: clamp(450px, 50vh, 500px);
            max-height: none;
            border: 1px solid var(--border-light);
            background: var(--bg-light);
            border-radius: clamp(8px, 1.5vw, 12px);
            padding: clamp(16px, 3vw, 24px);
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
            overflow: hidden;
            position: relative;
        }

        #demoLeftSide.focused {
            border-color: var(--primary-blue);
            background: var(--bg-gray);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2), var(--shadow-sm);
        }

        #demoRightSide.focused {
            border-color: var(--primary-blue);
            background: var(--bg-gray);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2), var(--shadow-sm);
        }

        .demo-side.focused {
            filter: brightness(1.05);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
        }

        .demo-side.dimmed {
            /* Gray overlay removed per user request */
        }

        /* Container locking states */
        .demo-container.locked {
            opacity: 0.3;
            pointer-events: none;
            filter: blur(2px);
            transition: all 0.5s ease;
        }

        .demo-side.locked {
            opacity: 0.3;
            pointer-events: none;
            filter: blur(2px);
            transition: all 0.5s ease;
        }

        .demo-container.unlocked,
        .demo-side.unlocked {
            opacity: 1;
            pointer-events: auto;
            filter: none;
            transition: all 0.5s ease;
        }

        @keyframes sidePulse {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.6); }
            70% { box-shadow: 0 0 0 12px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }

        @keyframes postPulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.6); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }

        .demo-side.pulse-blue {
            animation: sidePulse 1.5s ease-out;
        }

        .facebook-post.pulse-green {
            animation: postPulse 1.5s ease-out;
        }

        /* Custom Scrollbar */
        .social-feed-demo::-webkit-scrollbar {
            width: 8px;
        }

        .social-feed-demo::-webkit-scrollbar-track {
            background: #f0f2f5;
            border-radius: 4px;
        }

        .social-feed-demo::-webkit-scrollbar-thumb {
            background: #bcc0c4;
            border-radius: 4px;
        }

        .social-feed-demo::-webkit-scrollbar-thumb:hover {
            background: #8a8d91;
        }

        /* Ensure proper visibility and layering */
        .demo-container {
            position: relative;
            z-index: 2;
        }

        .demo-side {
            position: relative;
            z-index: 3;
        }

        .social-feed-demo {
            position: relative;
            z-index: 1;
        }

        /* Fix any potential display issues */
        .facebook-post {
            position: relative;
            display: block;
            width: 100%;
            box-sizing: border-box;
            background: white !important;
        }

        .facebook-post * {
            box-sizing: border-box;
        }

        /* Ensure all post variations maintain white background */
        .facebook-post.hot-post,
        .facebook-post.pulse-green,
        .facebook-post:hover,
        .facebook-post:focus,
        .facebook-post:active {
            background: white !important;
        }

        /* Right container element constraints */
        #demoRightSide > * {
            flex-shrink: 0;
        }

        #demoRightSide .demo-features {
            margin-bottom: 0;
            overflow: visible;
            flex: 1;
        }

        #demoRightSide p {
            margin-bottom: 16px;
            overflow-wrap: break-word;
        }

        /* Status indicator fixed sizing */
        #demoRightSide .status-indicator {
            flex-shrink: 0;
        }

        /* Customer Profile Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.1); }
        }

        @keyframes slideInFromRight {
            from { 
                opacity: 0; 
                transform: translateX(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateX(0); 
            }
        }

    </style>
</head>
<body>
    
    <!-- Innovative Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <!-- Logo Section -->
                <div class="logo-section">
                    <div class="logo-text">
                        <span>Collabo <span class="ai-highlight">AI</span></span>
                        <span class="pro-sub">Pro</span>
                    </div>
                </div>

                <!-- Advanced Navigation -->
                <nav class="nav-container">
                    <div class="nav-background"></div>
                    <div class="scroll-progress"></div>
                    <ul class="nav-menu">
                        <li class="nav-item">
                            <a href="#demo" class="nav-link">
                                <i class="fas fa-play-circle"></i>
                                <span>הדגמה חיה</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#pricing" class="nav-link">
                                <i class="fas fa-credit-card"></i>
                                <span>מחירים</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#contact" class="nav-link">
                                <i class="fas fa-envelope"></i>
                                <span>צור קשר</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <!-- CTA Section -->
                <div class="header-cta-section">
                    <button class="cta-button" onclick="startDemo()">
                        <span class="cta-text">התחל ניסיון חינם</span>
                        <div class="cta-icon">
                            <i class="fas fa-arrow-left"></i>
                        </div>
                        <div class="cta-glow"></div>
                    </button>
                </div>

                <!-- Mobile Menu Toggle -->
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content fade-in-up">
                <div class="hero-badge">
                    <i class="fas fa-bolt"></i>
                    טכנולוגיה מתקדמת של בינה מלאכותית
                </div>
                <h1>Collabo AI Pro<br>הסוכן הדיגיטלי המתקדם לעסקים</h1>
                <p class="subtitle">פלטפורמת AI חדשנית שמזהה, מנתחת ומגיבה ללידים ברשתות חברתיות בזמן אמת. הפתרון המקצועי לעסקים שרוצים להישאר מקוונים 24/7</p>
                
                <div class="hero-cta-group">
                    <button class="btn-base px-6 py-4 font-semibold text-center btn-gradient btn-lg cta-primary" onclick="startDemo()">התחל ניסיון חינם למשך 3 ימים</button>
                    <a href="#demo" class="btn-base px-6 py-4 font-semibold text-center btn-lg cta-secondary">צפה בהדגמה</a>
                </div>
                
            </div>
        </div>
    </section>

    <!-- Demo Section -->
    <section class="demo" id="demo" style="padding: 80px 0; height: 1000px; overflow: visible;">
        <div class="container">
            <!-- Section Header with improved spacing -->
            <div class="section-header" style="text-align: center; margin-bottom: 35px;">
                <h2 style="margin-bottom: 16px; font-size: clamp(28px, 4vw, 40px);">הדגמה חיה - צפה בסוכן הדיגיטלי בפעולה</h2>
            </div>

            <!-- Fixed height container for all content above Facebook feed -->
            <div style="height: 200px; position: relative; margin-bottom: -15px;">
                
                <!-- Progress Breadcrumb with clean design -->
                <div class="demo-progress" id="demoProgress" style="margin-bottom: 20px; display: none;">
                    <div class="progress-step" id="step-analysis">
                        <span>ניתוח פוסטים</span>
                    </div>
                    <div class="progress-arrow">→</div>
                    <div class="progress-step" id="step-response">
                        <span>יצירת תגובה</span>
                    </div>
                    <div class="progress-arrow">→</div>
                    <div class="progress-step" id="step-messenger">
                        <span>מעבר למסנג'ר</span>
                    </div>
                    <div class="progress-arrow">→</div>
                    <div class="progress-step" id="step-complete">
                        <span>סיום</span>
                    </div>
                </div>

                <!-- Simple Status Text - positioned below navigation -->
                <div id="greenIndicator" style="display: none; margin: 0 auto 15px auto; font-size: clamp(16px, 3vw, 20px); color: #000000; text-align: center; max-width: 800px;">
                    <div id="demoStatus" style="direction: rtl; unicode-bidi: isolate; text-align: right; width: 100%; height: auto; min-height: 50px; color: #000000; font-family: inherit; white-space: normal; overflow: visible; display: flex; align-items: flex-start; font-size: 16px; line-height: 1.4; background: #fff3cd; padding: 12px 12px; border-radius: 6px; box-sizing: border-box;"></div>
                </div>

                <!-- Enhanced Customer Profile with Professional Design -->
                <div id="customerProfileTemp" style="display: block; max-width: 400px; margin: -50px auto 0px auto;">
                
                <!-- Introduction Banner -->
                <div id="demoIntro" style="opacity: 0; text-align: center; margin-bottom: 5px;">
                    <div style="background: linear-gradient(135deg, #f8fafc, #f1f5f9); border: 1px solid var(--border-light); border-radius: 12px; padding: 14px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
                        <div style="font-size: 18px; font-weight: 600; color: var(--text-primary);">
                            🎯 הכירו את הלקוח שלנו להדגמה
                        </div>
                    </div>
                </div>

                <!-- Professional Client Card -->
                <div id="clientCard" style="opacity: 0; text-align: center; margin-bottom: 5px;">
                    <div class="testimonial-card" style="text-align: right; position: relative; background: white; padding: 20px; max-width: 100%;">
                        
                        <!-- Client Avatar & Header -->
                        <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px; direction: rtl;">
                            <div class="avatar avatar-lg" style="background: var(--ai-purple); color: white; font-weight: 700; font-size: 24px;">
                                י.ש
                            </div>
                            <div style="flex: 1;">
                                <h3 style="margin: 0 0 4px 0; font-size: 24px; font-weight: 700; color: var(--text-primary);">יוסי שיפוצים</h3>
                                <div style="font-size: 16px; color: var(--text-secondary); font-weight: 500;">הלקוח המטרה להדגמה</div>
                            </div>
                        </div>

                        <!-- Profile Details Grid -->
                        <div style="display: grid; gap: 8px;">
                            
                            <!-- Business Field -->
                            <div id="businessField" style="opacity: 0;">
                                <div style="padding: 12px; background: var(--bg-gray); border-radius: 6px;">
                                    <div style="font-size: 14px; color: var(--text-secondary); font-weight: 500; margin-bottom: 1px;">תחום עסקי</div>
                                    <div id="businessValue" style="font-size: 16px; color: var(--text-primary); font-weight: 600;">שיפוצים ובנייה</div>
                                </div>
                            </div>

                            <!-- Location Field -->
                            <div id="locationField" style="opacity: 0;">
                                <div style="padding: 12px; background: var(--bg-gray); border-radius: 6px;">
                                    <div style="font-size: 14px; color: var(--text-secondary); font-weight: 500; margin-bottom: 1px;">אזור פעילות</div>
                                    <div id="locationValue" style="font-size: 16px; color: var(--text-primary); font-weight: 600;">תל אביב והשרון</div>
                                </div>
                            </div>

                            <!-- Target Field -->
                            <div id="targetField" style="opacity: 0;">
                                <div style="padding: 12px; background: var(--bg-gray); border-radius: 6px;">
                                    <div style="font-size: 14px; color: var(--text-secondary); font-weight: 500; margin-bottom: 8px;">תוכניות Collabo Pro</div>
                                    <div id="targetValue" style="font-size: 14px; color: var(--text-primary); font-weight: 600; line-height: 1.4;">
                                        ✅ <span style="color: #10b981;">Collabo לידים חמים</span> - אנשים שמחפשים קבלני שיפוצים<br>
                                        💜 <span style="color: #8b5cf6;">Collabo בניית מוניטין</span> - אנשים שמבקשים עצות בתחום
                                    </div>
                                </div>
                            </div>

                        </div>
                        
                    </div>
                </div>
                
            </div>
            
            </div> <!-- End fixed height container -->

            <!-- Demo Features - properly positioned -->
            <div class="demo-features" style="display: none; max-width: 900px; margin: 0 auto 0px auto;">
                <!-- Dynamic features list will be populated here -->
            </div>

            <!-- Demo Container - properly centered and spaced -->
            <div class="demo-container" style="display: none; justify-content: center; margin-top: 0px;" id="demoContainer">
                <div class="demo-video demo-side" id="demoLeftSide" style="max-width: 800px; width: 100%;">
                    <!-- Facebook Header - Refined -->
                    <div class="facebook-header" style="
                        background: #4267B2;
                        color: white;
                        padding: 10px 16px;
                        border-radius: clamp(6px, 1.5vw, 12px) clamp(6px, 1.5vw, 12px) 0 0;
                        margin-bottom: 0;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 15px;
                        font-weight: 600;
                        box-shadow: none;
                        border-bottom: 1px solid rgba(255,255,255,0.2);
                    ">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <i class="fab fa-facebook-f" style="font-size: 16px;"></i>
                            <span>Facebook</span>
                        </div>
                    </div>
                    <div class="social-feed-demo" id="socialFeed" style="border-radius: 0 0 clamp(6px, 1.5vw, 12px) clamp(6px, 1.5vw, 12px);">
                        <!-- Demo posts will be populated here -->
                    </div>
                </div>
                
            </div>
        </div>
    </section>

    <!-- Performance Statistics -->
    <section class="performance-stats" id="performance-stats" style="padding: 80px 0;">
        <div class="container">
            <div class="section-header">
                <div class="section-badge font-semibold mb-4">ביצועים מוכחים</div>
                <h2 class="section-title font-black mb-6">התוצאות מדברות בעד עצמן</h2>
                <p class="section-subtitle">נתונים אמיתיים מלקוחותינו ברחבי הארץ</p>
            </div>
            
            <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; margin-top: 40px;">
                
                <!-- Response Rate -->
                <div class="testimonial-card" style="text-align: center;">
                    <div style="font-size: clamp(48px, 8vw, 64px); font-weight: 800; color: var(--text-primary); line-height: 1; margin-bottom: 16px;">73%</div>
                    <h3 style="font-size: 20px; font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">שיעור מענה</h3>
                    <p style="color: var(--text-secondary); font-size: 16px; line-height: 1.5;">מהלקוחות הפוטנציאליים מגיבים להודעות הסוכן</p>
                </div>

                <!-- Warm Lead Rate -->
                <div class="testimonial-card" style="text-align: center;">
                    <div style="font-size: clamp(48px, 8vw, 64px); font-weight: 800; color: var(--text-primary); line-height: 1; margin-bottom: 16px;">65%</div>
                    <h3 style="font-size: 20px; font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">שיעור לידים חמים</h3>
                    <p style="color: var(--text-secondary); font-size: 16px; line-height: 1.5;">מהתגובות הופכות ללידים איכותיים המוכנים לקנייה</p>
                </div>

                <!-- Total Leads Generated -->
                <div class="testimonial-card" style="text-align: center;">
                    <div style="font-size: clamp(48px, 8vw, 64px); font-weight: 800; color: var(--text-primary); line-height: 1; margin-bottom: 16px;">250K</div>
                    <h3 style="font-size: 20px; font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">סך הלידים שנוצרו</h3>
                    <p style="color: var(--text-secondary); font-size: 16px; line-height: 1.5;">לידים איכותיים נוצרו עד היום על ידי הסוכנים שלנו</p>
                </div>

            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials" id="testimonials">
        <div class="container">
            <div class="section-header">
                <div class="section-badge font-semibold mb-4">המלצות לקוחות</div>
                <h2 class="section-title font-black mb-6">מה אומרים הלקוחות שלנו</h2>
                <p class="section-subtitle">אלפי עסקים כבר השתכנעו בכוח של הסוכן הדיגיטלי. ראה איך הם הגדילו את המכירות והחסכו זמן יקר</p>
            </div>
            
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="testimonial-text">"הסוכן הדיגיטלי פשוט שינה לנו את המשחק. במקום לבזבז שעות על סריקה ידנית, אנחנו מקבלים לידים איכותיים ישירות ל-CRM. העסק גדל ב-340% בחצי שנה."</p>
                    <div class="testimonial-author">
                        <div class="avatar avatar-lg author-avatar">ד.כ</div>
                        <div class="author-info">
                            <h4>דני כהן</h4>
                            <span>מנכ"ל, חברת שיפוצים מובילה</span>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="testimonial-text">"כמו שאמר שותף שלי - זה כמו שיש לנא עובד במשמרת לילה שעובד רק על לידים. הטכנולוגיה מדהימה והתמיכה מעולה. השקעה שמחזירה את עצמה תוך חודש."</p>
                    <div class="testimonial-author">
                        <div class="avatar avatar-lg author-avatar">ר.ל</div>
                        <div class="author-info">
                            <h4>רונית לוי</h4>
                            <span>מייסדת, סטודיו לעיצוב פנים</span>
                        </div>
                    </div>
                </div>
                
                <div class="testimonial-card">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="testimonial-text">"הפלטפורמה הכי מתקדמת שראיתי. הAI מבין בדיוק מה הלקוחות רוצים ומגיב בצורה טבעית. הפכנו מעסק מקומי לברנד לאומי בזכות הסוכן הדיגיטלי."</p>
                    <div class="testimonial-author">
                        <div class="avatar avatar-lg author-avatar">מ.ג</div>
                        <div class="author-info">
                            <h4>מיכאל גולן</h4>
                            <span>בעלים, רשת מוסכים</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Pricing -->
    <section class="pricing" id="pricing">
        <div class="container">
            <div class="pricing-header">
                <h2>תוכנית Collabo AI Pro</h2>
                <p>פתרון מקצועי ומשתלם לעסקים שרוצים לגדול עם ליווי אישי מלא</p>
            </div>
            
            <div class="pricing-cards" style="max-width: 500px;">
                <div class="pricing-card featured">
                    <h3 class="pricing-plan">Collabo AI Pro</h3>
                    <div class="pricing-price">₪250</div>
                    <div class="pricing-period">לחודש + מע"מ</div>
                    <ul class="pricing-features">
                        <li><i class="fas fa-check"></i> סריקה אוטומטית של פוסטים ברשתות חברתיות</li>
                        <li><i class="fas fa-check"></i> זיהוי לקוחות פוטנציאליים בזמן אמת</li>
                        <li><i class="fas fa-check"></i> תגובות מותאמות אישית לכל פוסט</li>
                        <li><i class="fas fa-check"></i> מעבר אוטומטי לשיחה פרטית ב-Messenger</li>
                        <li><i class="fas fa-check"></i> איסוף פרטי קשר ואיכות לידים</li>
                        <li><i class="fas fa-check"></i> העברה אוטומטית ל-CRM או WhatsApp</li>
                        <li><i class="fas fa-check"></i> פעילות 24/7 ללא הפסקות או חופשות</li>
                        <li><i class="fas fa-check"></i> דוחות יומיים ושבועיים מפורטים</li>
                        <li><i class="fas fa-check"></i> התאמה מלאה לתחום ואיזור הפעילות</li>
                        <li><i class="fas fa-check"></i> ליווי אישי וטכני מלא</li>
                        <li><i class="fas fa-check"></i> 3 ימים ניסיון חינם ללא התחייבות</li>
                        <li><i class="fas fa-check"></i> אפשרות ביטול בכל עת</li>
                    </ul>
                    <button class="btn-base px-6 py-4 font-semibold text-center btn-primary btn-lg pricing-cta" onclick="selectPlan('digital-agent')">התחל ניסיון חינם עכשיו</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison Table Section -->
    <section class="comparison-section" id="comparison">
        <div class="container">
            <div class="section-header">
                <div class="section-badge font-semibold mb-4">השוואת מתחרים</div>
                <h2 class="section-title font-black mb-6">הפתרון שלנו לעומת השאר</h2>
                <p class="section-subtitle" style="margin: 0 auto 8px auto !important;">השוואה ברורה בין דרכי השגת לקוחות - איך כל שיטה עובדת ומה היא עולה</p>
            </div>
            
            <div class="comparison-table">
                <!-- Column 1: Criteria -->
                <div class="comparison-column">
                    <div class="comparison-header-cell">קריטריון</div>
                    <div class="comparison-cell">עלות חודשית</div>
                    <div class="comparison-cell">כמות לקוחות חדשים</div>
                    <div class="comparison-cell">מהירות תגובה ללקוח</div>
                    <div class="comparison-cell">רמת אוטומציה</div>
                    <div class="comparison-cell">שעות פעילות</div>
                    <div class="comparison-cell">מעקב ובקרה</div>
                    <div class="comparison-cell">קלות שימוש</div>
                    <div class="comparison-cell">התחייבות חוזית</div>
                </div>
                
                <!-- Column 2: Advertising Companies -->
                <div class="comparison-column">
                    <div class="comparison-header-cell">חברות פרסום</div>
                    <div class="comparison-cell price-cell expensive">₪5,000-15,000</div>
                    <div class="comparison-cell">תלוי בתקציב</div>
                    <div class="comparison-cell">שעות או ימים</div>
                    <div class="comparison-cell">פרסום בלבד</div>
                    <div class="comparison-cell">מוגבל לשעות עבודה</div>
                    <div class="comparison-cell">דוחות מוגבלים</div>
                    <div class="comparison-cell">מורכב ודורש הכשרה</div>
                    <div class="comparison-cell">12-24 חודשים</div>
                </div>
                
                <!-- Column 3: Collabo AI Pro (Featured with Red Glow) -->
                <div class="comparison-column featured">
                    <div class="comparison-header-cell featured">Collabo AI Pro</div>
                    <div class="comparison-cell featured price-cell affordable">₪250</div>
                    <div class="comparison-cell featured positive">10-20 לידים יומיים</div>
                    <div class="comparison-cell featured positive">תוך 2 דקות</div>
                    <div class="comparison-cell featured positive">אוטומציה מלאה</div>
                    <div class="comparison-cell featured positive">פעילות רציפה 24/7</div>
                    <div class="comparison-cell featured positive">רואה בזמן אמת</div>
                    <div class="comparison-cell featured positive">פשוט ואינטואיטיבי</div>
                    <div class="comparison-cell featured positive">ללא התחייבות</div>
                </div>
                
                <!-- Column 4: Lead Generation -->
                <div class="comparison-column">
                    <div class="comparison-header-cell">השגת לידים</div>
                    <div class="comparison-cell">₪2,000-8,000</div>
                    <div class="comparison-cell">5-10 לידים בשבוע</div>
                    <div class="comparison-cell">תוך שעות</div>
                    <div class="comparison-cell">עבודה ידנית</div>
                    <div class="comparison-cell">מוגבל לזמן פנוי</div>
                    <div class="comparison-cell">מעקב ידני</div>
                    <div class="comparison-cell">דורש למידה</div>
                    <div class="comparison-cell">תשלום חד פעמי</div>
                </div>
            </div>
            
            <!-- Mobile Comparison Cards - Only visible on mobile -->
            <div class="comparison-mobile-cards">
                <!-- Advertising Companies Card -->
                <div class="comparison-card">
                    <h3>חברות פרסום</h3>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">עלות חודשית</span>
                        <span class="comparison-feature-value">₪5,000-15,000</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">כמות לקוחות חדשים</span>
                        <span class="comparison-feature-value">תלוי בתקציב</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">מהירות תגובה ללקוח</span>
                        <span class="comparison-feature-value">שעות או ימים</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">רמת אוטומציה</span>
                        <span class="comparison-feature-value">פרסום בלבד</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">שעות פעילות</span>
                        <span class="comparison-feature-value">מוגבל לשעות עבודה</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">מעקב ובקרה</span>
                        <span class="comparison-feature-value">דוחות מוגבלים</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">קלות שימוש</span>
                        <span class="comparison-feature-value">מורכב ודורש הכשרה</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">התחייבות חוזית</span>
                        <span class="comparison-feature-value">12-24 חודשים</span>
                    </div>
                </div>
                
                <!-- Collabo AI Pro Card - Featured -->
                <div class="comparison-card featured">
                    <h3>Collabo AI Pro</h3>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">עלות חודשית</span>
                        <span class="comparison-feature-value check">₪250</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">כמות לקוחות חדשים</span>
                        <span class="comparison-feature-value check">10-20 לידים יומיים</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">מהירות תגובה ללקוח</span>
                        <span class="comparison-feature-value check">תוך 2 דקות</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">רמת אוטומציה</span>
                        <span class="comparison-feature-value check">אוטומציה מלאה</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">שעות פעילות</span>
                        <span class="comparison-feature-value check">פעילות רציפה 24/7</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">מעקב ובקרה</span>
                        <span class="comparison-feature-value check">רואה בזמן אמת</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">קלות שימוש</span>
                        <span class="comparison-feature-value check">פשוט ואינטואיטיבי</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">התחייבות חוזית</span>
                        <span class="comparison-feature-value check">ללא התחייבות</span>
                    </div>
                </div>
                
                <!-- Lead Generation Card -->
                <div class="comparison-card">
                    <h3>השגת לידים</h3>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">עלות חודשית</span>
                        <span class="comparison-feature-value">₪2,000-8,000</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">כמות לקוחות חדשים</span>
                        <span class="comparison-feature-value">5-10 לידים בשבוע</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">מהירות תגובה ללקוח</span>
                        <span class="comparison-feature-value">תוך שעות</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">רמת אוטומציה</span>
                        <span class="comparison-feature-value">עבודה ידנית</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">שעות פעילות</span>
                        <span class="comparison-feature-value">מוגבל לזמן פנוי</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">מעקב ובקרה</span>
                        <span class="comparison-feature-value">מעקב ידני</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">קלות שימוש</span>
                        <span class="comparison-feature-value">דורש ניסיון</span>
                    </div>
                    <div class="comparison-feature">
                        <span class="comparison-feature-name">התחייבות חוזית</span>
                        <span class="comparison-feature-value">גמיש</span>
                    </div>
                </div>
            </div>
            
        </div>
    </section>

    <!-- Contact Form Section -->
    <section class="contact-section" id="contact">
        <div class="container">
            <div class="contact-container">
                <div class="contact-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <h2 class="font-black mb-4">מוכן להטיס את העסק שלך?</h2>
                <p class="section-subtitle" style="margin-bottom: 0; opacity: 0.95;">השאר פרטים ונחזור אליך תוך 24 שעות עם הצעה מותאמת אישית</p>
                
                <form class="contact-form" id="contactForm">
                    <!-- Row with Name and Phone side by side -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px;" class="form-row-responsive">
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label" for="phone">מספר טלפון</label>
                            <input type="tel" id="phone" name="phone" class="form-input" placeholder="הכנס מספר טלפון" required>
                        </div>
                        <div class="form-group" style="margin-bottom: 0;">
                            <label class="form-label" for="fullName">שם מלא</label>
                            <input type="text" id="fullName" name="fullName" class="form-input" placeholder="הכנס את שמך המלא" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="businessType">איזה תחום עסקי?</label>
                        <select id="businessType" name="businessType" class="form-input" required onchange="toggleOtherBusinessField()">
                            <option value="">בחר תחום...</option>
                            <option value="design">עיצוב פנים</option>
                            <option value="construction">שיפוצים ובנייה</option>
                            <option value="automotive">מוסכים ואוטו</option>
                            <option value="legal">משרדי עורכי דין</option>
                            <option value="medical">שירותי רפואה</option>
                            <option value="consulting">ייעוץ עסקי</option>
                            <option value="other">אחר</option>
                        </select>
                    </div>
                    
                    <!-- Hidden field for custom business type -->
                    <div class="form-group" id="otherBusinessGroup" style="display: none;">
                        <label class="form-label" for="otherBusiness">תאר את התחום העסקי שלך</label>
                        <input type="text" id="otherBusiness" name="otherBusiness" class="form-input" placeholder="לדוגמה: שירותי ניקיון, צילום, קייטרינג...">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="location">איזור פעילות עיקרי?</label>
                        <select id="location" name="location" class="form-input" required>
                            <option value="">בחר איזור...</option>
                            <option value="center">מרכז</option>
                            <option value="north">צפון</option>
                            <option value="south">דרום</option>
                            <option value="jerusalem">ירושלים והסביבה</option>
                            <option value="national">כל הארץ</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn-base px-6 py-4 font-semibold text-center btn-gradient btn-lg" style="width: 100%; font-size: 18px;">
                        🚀 שלח פרטים וקבל הצעה מותאמת
                    </button>
                </form>
                
                <div class="form-benefits">
                    <div class="form-benefit">
                        <i class="fas fa-check"></i>
                        ללא התחייבות
                    </div>
                    <div class="form-benefit">
                        <i class="fas fa-check"></i>
                        3 ימים ניסיון חינם
                    </div>
                    <div class="form-benefit">
                        <i class="fas fa-check"></i>
                        הגדרה תוך 24 שעות
                    </div>
                </div>
            </div>
        </div>
    </section>


    <script>
        // Enhanced Animated Stars Background
        function createStars() {
            const starsContainer = document.getElementById('stars');
            if (!starsContainer) {
                console.log('Stars container not found, skipping star creation');
                return;
            }
            const numberOfStars = 150; // Increased number of stars
            
            // Create regular twinkling and drifting stars
            for (let i = 0; i < numberOfStars; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                // Random size classes with weighted distribution
                const starTypes = ['small', 'small', 'small', 'medium', 'medium', 'large'];
                const randomType = starTypes[Math.floor(Math.random() * starTypes.length)];
                star.classList.add(randomType);
                
                // Random position
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                
                // Random animation delay
                star.style.animationDelay = Math.random() * 5 + 's';
                
                starsContainer.appendChild(star);
            }
            
            // Create floating stars (rise from bottom)
            function createFloatingStars() {
                for (let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        const floatingStar = document.createElement('div');
                        floatingStar.className = 'star floating';
                        
                        // Random horizontal position
                        floatingStar.style.left = Math.random() * 100 + '%';
                        floatingStar.style.top = '100vh';
                        
                        starsContainer.appendChild(floatingStar);
                        
                        // Remove after animation
                        setTimeout(() => {
                            if (floatingStar.parentNode) {
                                floatingStar.parentNode.removeChild(floatingStar);
                            }
                        }, 15000);
                    }, i * 2000); // Stagger creation
                }
                
                // Schedule next batch
                setTimeout(createFloatingStars, 20000);
            }
            
            // Create orbiting stars
            function createOrbitingStars() {
                for (let i = 0; i < 5; i++) {
                    const orbitingStar = document.createElement('div');
                    orbitingStar.className = 'star orbiting';
                    
                    // Random center position
                    orbitingStar.style.left = Math.random() * 80 + 10 + '%';
                    orbitingStar.style.top = Math.random() * 80 + 10 + '%';
                    
                    // Random animation delay
                    orbitingStar.style.animationDelay = Math.random() * 10 + 's';
                    
                    starsContainer.appendChild(orbitingStar);
                }
            }
            
            // Create shooting stars
            function createShootingStar() {
                const shootingStar = document.createElement('div');
                shootingStar.className = 'star shooting';
                
                // Random starting position (from different sides)
                const side = Math.random();
                if (side < 0.5) {
                    // From left
                    shootingStar.style.left = '-100px';
                    shootingStar.style.top = Math.random() * 70 + '%';
                } else {
                    // From top-left corner
                    shootingStar.style.left = Math.random() * 30 + '%';
                    shootingStar.style.top = '-100px';
                }
                
                starsContainer.appendChild(shootingStar);
                
                // Remove after animation
                setTimeout(() => {
                    if (shootingStar.parentNode) {
                        shootingStar.parentNode.removeChild(shootingStar);
                    }
                }, 4000);
            }
            
            // Create shooting star every 3-6 seconds (more frequent)
            function scheduleShootingStar() {
                const delay = Math.random() * 3000 + 3000; // 3-6 seconds
                setTimeout(() => {
                    createShootingStar();
                    scheduleShootingStar();
                }, delay);
            }
            
            // Create central "reaching for the stars" animation
            function createReachingStarAnimation() {
                const centralStar = document.createElement('div');
                centralStar.className = 'star central-reaching';
                
                // Position in center-bottom area
                centralStar.style.left = '50%';
                centralStar.style.top = '85%';
                centralStar.style.transform = 'translateX(-50%)';
                
                starsContainer.appendChild(centralStar);
                
                // Create trail of smaller stars that follow
                for (let i = 1; i <= 5; i++) {
                    setTimeout(() => {
                        const trailStar = document.createElement('div');
                        trailStar.className = 'star trail-star';
                        trailStar.style.left = '50%';
                        trailStar.style.top = '85%';
                        trailStar.style.transform = 'translateX(-50%)';
                        trailStar.style.animationDelay = (i * 0.2) + 's';
                        
                        starsContainer.appendChild(trailStar);
                        
                        // Remove trail star after animation
                        setTimeout(() => {
                            if (trailStar.parentNode) {
                                trailStar.parentNode.removeChild(trailStar);
                            }
                        }, 8000);
                    }, i * 300);
                }
                
                // Remove central star after animation
                setTimeout(() => {
                    if (centralStar.parentNode) {
                        centralStar.parentNode.removeChild(centralStar);
                    }
                }, 8000);
            }
            
            // Schedule central animation every 15 seconds
            function scheduleCentralAnimation() {
                setTimeout(() => {
                    createReachingStarAnimation();
                    scheduleCentralAnimation();
                }, 15000);
            }
            
            // Create constellation animation
            function createConstellation() {
                const constellationStars = [];
                const positions = [
                    { x: 20, y: 30 }, { x: 25, y: 25 }, { x: 30, y: 32 },
                    { x: 80, y: 40 }, { x: 85, y: 35 }, { x: 75, y: 45 }
                ];
                
                positions.forEach((pos, index) => {
                    setTimeout(() => {
                        const conStar = document.createElement('div');
                        conStar.className = 'star constellation';
                        conStar.style.left = pos.x + '%';
                        conStar.style.top = pos.y + '%';
                        conStar.style.animationDelay = (index * 0.5) + 's';
                        
                        starsContainer.appendChild(conStar);
                        constellationStars.push(conStar);
                    }, index * 500);
                });
                
                // Remove constellation after animation
                setTimeout(() => {
                    constellationStars.forEach(star => {
                        if (star.parentNode) {
                            star.parentNode.removeChild(star);
                        }
                    });
                }, 10000);
            }
            
            // Initialize all star types with enhanced timing
            createOrbitingStars();
            setTimeout(createFloatingStars, 2000);
            setTimeout(scheduleShootingStar, 1000);
            setTimeout(scheduleCentralAnimation, 5000);
            setTimeout(createConstellation, 8000);
            
            // Create constellation every 20 seconds
            setInterval(createConstellation, 20000);
        }
        
        // Constants
        const DELAYS = {
            SHORT: 800,
            MEDIUM: 1200,
            LONG: 1500,
            TYPING: 25,
            TYPING_SLOW: 40
        };

        // Utility Functions
        const $ = (selector) => document.querySelector(selector);
        const $$ = (selector) => document.querySelectorAll(selector);
        const $id = (id) => document.getElementById(id);

        function delayedExecute(fn, delay = DELAYS.MEDIUM) {
            return setTimeout(fn, delay);
        }

        function setStyles(element, styles) {
            element.style.cssText = styles;
        }

        // Demo Examples
        const demoExamples = [
            // Post 1: לא רלוונטי (חדש)
            {
                name: "נועה דהן",
                avatar: "נ.ד",
                time: "1 דקה",
                content: "מישהו יודע איפה יש סרט טוב היום? אני צריכה משהו שיעשה לי טוב לנפש 🍿🎬",
                isLead: false,
                category: "bot_post"
            },
            // Posts 2-3: לא רלוונטיים
            {
                name: "ליאת כץ",
                avatar: "ל.כ",
                time: "2 דקות",
                content: "הסתובבתי היום בקניון וראיתי כמה דברים יפים! הקניות עושות לי טוב 😊",
                isLead: false,
                category: "bot_post"
            },
            {
                name: "איתן לוי",
                avatar: "א.ל",
                time: "5 דקות",
                content: "מחפש קבלן טוב ברמת גן לתיקון גג רעפים. מישהו מכיר מקום אמין?",
                isLead: false,
                category: "old_post"
            },
            // Post 3: רלוונטי (ירוק)
            {
                name: "שרה לוי",
                avatar: "ש.ל",
                time: "8 דקות",
                content: "חיפשתי המון אבל לא מוצאת מישהו טוב לשיפוץ המטבח שלי... כל קבלני השיפוצים שפगשתי עד עכשיו לא הבינו מה אני רוצה ואיך לתכנן את המטבח 😕",
                isLead: true,
                category: "relevant"
            },
            // Post 4: רלוונטי (סגול)
            {
                name: "דוד כהן",
                avatar: "ד.כ",
                time: "12 דקות",
                content: "היי חברים, צריך את עזרתכם עם התייעצות קלה. לפני שבועיים הופיעו לי כתמי רטיבות בכל הבית, ולא נראה שיש נזילה. איך לדעתכם אפשר לפתור את זה?",
                isLead: true,
                category: "advice_seeking"
            },
            // Post 5: לא רלוונטי (חדש)
            {
                name: "רון אברמס",
                avatar: "ר.א",
                time: "14 דקות",
                content: "הילדים שלי התחילו לשחק כדורגל בליגה. אני כל כך גאה בהם! מישהו יכול להמליץ על נעליים טובות? ⚽",
                isLead: false,
                category: "bot_post"
            },
            // Post 6: לא רלוונטי
            {
                name: "עדי גולן",
                avatar: "ע.ג",
                time: "15 דקות",
                content: "פרסום: קורס יוגה חדש בסטודיו שלנו! הרשמה עד סוף החודש במחיר מיוחד 💪",
                isLead: false,
                category: "bot_post"
            },
            // Post 6: רלוונטי (ירוק)
            {
                name: "רונית גולן",
                avatar: "ר.ג",
                time: "18 דקות",
                content: "האמבטיה שלי שוב נוזלת... פעם שלישית החודש! אני חייבת קבלן איטום אמין באזור המרכז שיפתור את הבעיה סופית 🚿💸",
                isLead: true,
                category: "relevant"
            },
            // Post 8: רלוונטי (סגול)
            {
                name: "מיכל אברמוב",
                avatar: "מ.א",
                time: "22 דקות",
                content: "חברים, יש לי בעיה עם קיר שמתחיל להתקלף. איך אפשר לדעת אם זה בגלל לחות או סתם צבע ישן? אני לא רוצה להתחיל לצבוע ואז שזה יחזור...",
                isLead: true,
                category: "advice_seeking"
            },
            // Post 9: לא רלוונטי (חדש)
            {
                name: "מירב שקד",
                avatar: "מ.ש",
                time: "24 דקות",
                content: "התחלתי דיאטה חדשה השבוע. מישהו יודע איפה יש סלטים טובים באזור? אני מחפשת משהו בריא ולא יקר 🥗",
                isLead: false,
                category: "bot_post"
            },
            // Post 10: לא רלוונטי
            {
                name: "תמר לוי",
                avatar: "ת.ל",
                time: "25 דקות",
                content: "האיזור שלי הוא בצפון, אז אני לא חושבת שיש פה שירותים מקצועיים בתחום השיפוצים שאני צריכה...",
                isLead: false,
                category: "area_irrelevant"
            },
            // Post 9: רלוונטי (ירוק)
            {
                name: "אבי שמיר",
                avatar: "א.ש",
                time: "28 דקות",
                content: "הרצפות בבית נראות נוראי, זקוקות לחידוש דחוף. מישהו יכול להמליץ על חברת שיפוצים מהימנה?",
                isLead: true,
                category: "relevant"
            },
            // Post 10: רלוונטי (ירוק)
            {
                name: "רונית פרץ",
                avatar: "ר.פ",
                time: "28 דקות",
                content: "הבית של הבעל צריך שיפוץ השבוע, נזקקת לקבלן אמין במרכז שיטפל בזה במהירות ובמחיר הוגן. עדיפות לקבלנים מקצועיים!",
                isLead: true,
                category: "relevant"
            },
            {
                name: "שמעון רודה",
                avatar: "ש.ר",
                time: "32 דקות",
                content: "הקירות בסלון צריכים צביעה חדשה לפני החגים. מכירים צבע איכותי שלא יתקלף?",
                isLead: true,
                category: "relevant"
            },
            {
                name: "עדי גולן",
                avatar: "ע.ג",
                time: "35 דקות",
                content: "פרסום: קורס יוגה חדש בסטודיו שלנו! הרשמה עד סוף החודש במחיר מיוחד 💪",
                isLead: false,
                category: "bot_post"
            },
            {
                name: "גל משה",
                avatar: "ג.מ",
                time: "40 דקות",
                content: "מטבח הבית שלי נראה מיושן, חולמת על שיפוץ מקצועי שיהפוך אותו למטבח חלומותי. יש מישהו שמכיר מעצב פנים מוכשר?",
                isLead: true,
                category: "relevant"
            },
            {
                name: "תמר לוי",
                avatar: "ת.ל",
                time: "45 דקות",
                content: "האיזור שלי הוא בצפון, אז אני לא חושבת שיש פה שירותים מקצועיים בתחום השיפוצים שאני צריכה...",
                isLead: false,
                category: "area_irrelevant"
            }
        ];

        let currentDemo = null;
        let feedPosts = [];

        function createPost(example, index) {
            const timeAgo = Math.floor(Math.random() * 30) + 1;
            return `
                <div class="facebook-post" data-index="${index}" ${example.isLead ? 'data-potential-lead="true"' : ''}>
                    <div class="post-header">
                        <div class="avatar avatar-md post-avatar">${example.avatar}</div>
                        <div class="post-info">
                            <h3>${example.name}</h3>
                            <span>${timeAgo} דקות</span>
                        </div>
                    </div>
                    <div class="post-content">${example.content}</div>
                    <div class="post-actions">
                        <div class="post-action">
                            <i class="far fa-thumbs-up"></i>
                            Like
                        </div>
                        <div class="post-action">
                            <i class="far fa-comment"></i>
                            Comment
                        </div>
                        <div class="post-action">
                            <i class="far fa-share"></i>
                            Share
                        </div>
                    </div>
                </div>
            `;
        }

        function populateFeed() {
            console.log('populateFeed called');
            const feed = document.getElementById('socialFeed');
            if (!feed) {
                console.error('socialFeed element not found!');
                return;
            }
            console.log('socialFeed element found');
            
            feedPosts = [];
            
            // Create exactly 5 posts for demo: 4 irrelevant + 1 relevant (5th post)
            const demoPosts = [
                demoExamples[1], // דוד כהן - field_irrelevant (אתרי אינטרנט)
                demoExamples[3], // מיכל אברמוב - area_irrelevant (בגדים)
                demoExamples[5], // נטלי רוזן - free_help (פיאנו)
                demoExamples[8], // איתן לבי - old_post (מוסך ישן)
                demoExamples[4]  // אבי שמיר - relevant (שיפוצים) - THE RELEVANT ONE
            ];
            
            // Add 5 additional posts for manual scrolling (indices 9-13 from demoExamples)
            const additionalPosts = [
                demoExamples[9],  // רונית פרץ - relevant (מוסך)
                demoExamples[10], // שמעון רודה - relevant (צביעה)
                demoExamples[11], // עדי גולן - bot_post (יוגה)
                demoExamples[12], // גל משה - relevant (עיצוב מטבח)
                demoExamples[13]  // תמר לוי - area_irrelevant (צפון)
            ];
            
            // Combine demo posts with additional posts
            const allPosts = [...demoPosts, ...additionalPosts];
            
            allPosts.forEach((example, i) => {
                feedPosts.push({...example, index: i});
            });
            
            feed.innerHTML = feedPosts.map((post, index) => createPost(post, index)).join('');
            console.log('Feed populated with', feedPosts.length, 'posts');
            
            // Add hover effects for additional posts (indices 5-9)
            setTimeout(() => {
                addHoverAnalysisToAdditionalPosts();
            }, 500);
        }

        function detectAndMarkPosts() {
            console.log('detectAndMarkPosts called, starting from index:', currentPostIndex);
            const allPosts = getAllPosts();
            console.log('Found', allPosts.length, 'posts');
            totalPosts = allPosts.length;
            
            function processPost(index) {
                if (index >= totalPosts) {
                    // All posts processed, restart the demo
                    console.log('All posts completed - restarting demo cycle');
                    setTimeout(() => {
                        console.log('🔄 Restarting demo from beginning');
                        currentPostIndex = 0;
                        totalPosts = 0;
                        processedPosts.clear();
                        messengerConversationActive = false;
                        
                        // Clear and repopulate feed
                        populateFeed();
                        
                        // Start detection from beginning
                        setTimeout(() => {
                            detectAndMarkPosts();
                        }, 1000);
                    }, 3000);
                    return;
                }
                
                const post = allPosts[index];
                if (!post || post.classList.contains('post-analyzed')) {
                    // Skip to next post
                    currentPostIndex = index + 1;
                    setTimeout(() => processPost(index + 1), 1000);
                    return;
                }
                
                const postIndex = parseInt(post.dataset.index);
                const postData = feedPosts[postIndex];
                if (!postData) {
                    // Skip to next post
                    currentPostIndex = index + 1;
                    setTimeout(() => processPost(index + 1), 1000);
                    return;
                }
                
                const { icon, reason, isRelevant, highlightField } = getPostAnalysis(postData);
                
                // First, highlight the current post being analyzed
                highlightCurrentPost(post, true);
                
                // Show explanation banner on the post after a brief moment
                setTimeout(() => {
                    showPostExplanationBanner(post, reason, isRelevant, postData.name, icon, highlightField);
                    
                    // Mark post as analyzed and handle post logic directly
                    setTimeout(() => {
                        post.classList.add('post-analyzed');
                        
                        if (isRelevant === true || isRelevant === 'advice') {
                            post.classList.add('hot-post');
                            
                            // Add appropriate icon for relevant and advice_seeking posts
                            const fireIcon = document.createElement('div');
                            fireIcon.className = 'fire-icon';
                            fireIcon.innerHTML = isRelevant === 'advice' ? '💜' : '🔥';
                            fireIcon.style.cssText = `
                                position: absolute;
                                top: -15px;
                                right: -15px;
                                width: 32px;
                                height: 32px;
                                border-radius: 50%;
                                background: #fff;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                font-size: 18px;
                                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                                z-index: 1500;
                                animation: bounce 1s infinite;
                                border: 2px solid #f3f4f6;
                            `;
                            post.style.position = 'relative';
                            post.appendChild(fireIcon);
                            
                            // Run full demo sequence for relevant post
                            setTimeout(async () => {
                                console.log('Starting autoHandleComment for post:', postIndex, 'current index will be:', index + 1);
                                await autoHandleComment(postIndex, async () => {
                                    console.log('autoHandleComment completed, setting currentPostIndex to:', index + 1);
                                    // DO NOT reset messenger state here - it's already handled in finishMessengerConversation
                                    console.log('🔄 NOT resetting messengerConversationActive - already handled');
                                    // Set next post index AFTER demo completes
                                    currentPostIndex = index + 1;
                                    // After demo completes, continue with next post
                                    setTimeout(async () => {
                                        await continueToNextPost();
                                    }, 2000);
                                });
                            }, 2000);
                        } else {
                            // Add sad emoji for irrelevant posts
                            const sadIcon = document.createElement('div');
                            sadIcon.className = 'sad-icon';
                            sadIcon.innerHTML = '😞';
                            sadIcon.style.cssText = `
                                position: absolute;
                                top: -15px;
                                right: -15px;
                                width: 32px;
                                height: 32px;
                                border-radius: 50%;
                                background: #fff;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                font-size: 18px;
                                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                                z-index: 1500;
                                animation: bounce 1s infinite;
                                border: 2px solid #f3f4f6;
                            `;
                            post.style.position = 'relative';
                            post.appendChild(sadIcon);
                            
                            // For irrelevant posts, just continue to next
                            currentPostIndex = index + 1;
                            setTimeout(() => processPost(index + 1), 1500);
                        }
                        
                        // Remove highlight after analysis is complete (only for irrelevant posts)
                        if (!isRelevant || isRelevant === false) {
                            setTimeout(() => {
                                highlightCurrentPost(post, false);
                            }, DELAYS.SHORT);
                        }
                        
                    }, DELAYS.SHORT);
                    
                }, 600); // Show post first, then explanation
            }
            
            // Start processing from the current post index
            processPost(currentPostIndex);
        }
        
        async function continueToNextPost() {
            console.log('Continuing to next post, index:', currentPostIndex);
            
            // Allow continuation from complete stage - it means we're moving to next post
            if (currentDemoStage === 'complete') {
                console.log('✅ Continuing from complete stage to next post');
                currentDemoStage = 'profile'; // Reset for next post
            }
            
            if (currentPostIndex < totalPosts) {
                // Continue with detection of remaining posts without updating status
                setTimeout(() => {
                    detectAndMarkPosts();
                }, 1000);
            } else {
                // All posts done, restart the demo
                console.log('No more posts to process - restarting demo cycle');
                setTimeout(() => {
                    console.log('🔄 Restarting demo from beginning (path 2)');
                    currentPostIndex = 0;
                    totalPosts = 0;
                    processedPosts.clear();
                    messengerConversationActive = false;
                    
                    // Clear and repopulate feed
                    populateFeed();
                    
                    // Start detection from beginning
                    setTimeout(() => {
                        detectAndMarkPosts();
                    }, 1000);
                }, 3000);
            }
        }
        
        // DELETED: restartEntireDemo() function was causing Messenger conflicts
        // The demo now finishes naturally without forced restarts
        
        function highlightCurrentPost(post, highlight) {
            if (highlight) {
                post.classList.add('post-highlighted');
                
                // Scroll within the feed container only, not the main page
                const feedContainer = document.getElementById('socialFeed');
                if (feedContainer) {
                    const postRect = post.getBoundingClientRect();
                    const containerRect = feedContainer.getBoundingClientRect();
                    const scrollOffset = postRect.top - containerRect.top - (containerRect.height / 2) + (postRect.height / 2);
                    
                    // Use smooth scrolling within the feed container
                    feedContainer.scrollTo({
                        top: feedContainer.scrollTop + scrollOffset,
                        behavior: 'smooth'
                    });
                }
            } else {
                post.classList.remove('post-highlighted');
            }
        }

        function showPostExplanationBanner(post, reason, isRelevant, customerName, icon, highlightField = null) {
            // Remove any existing banner first
            removePostExplanationBanner(post);
            
            const banner = document.createElement('div');
            banner.className = 'post-explanation-banner';
            
            // Calculate post dimensions to ensure banner fits within
            const postRect = post.getBoundingClientRect();
            
            banner.style.cssText = `
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: ${
                    isRelevant === true 
                        ? 'rgba(236, 253, 245, 0.95)'
                        : isRelevant === 'advice'
                        ? 'rgba(245, 243, 255, 0.95)'
                        : 'rgba(254, 242, 242, 0.95)'
                };
                border: 1px solid ${
                    isRelevant === true 
                        ? '#10b981' 
                        : isRelevant === 'advice'
                        ? '#8b5cf6'
                        : '#ef4444'
                };
                border-radius: 8px;
                padding: 12px 14px;
                max-width: ${Math.min(280, postRect.width - 40)}px;
                width: calc(100% - 40px);
                z-index: 25;
                box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
                animation: modernBannerSlideIn 0.4s ease-out;
                direction: rtl;
                text-align: right;
                font-family: inherit;
                backdrop-filter: blur(4px);
            `;
            
            // Compact content design
            banner.innerHTML = `
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                    <div style="
                        display: flex; 
                        align-items: center; 
                        gap: 6px;
                        font-size: 14px;
                        font-weight: 600;
                        color: ${
                            isRelevant === true ? '#059669' 
                            : isRelevant === 'advice' ? '#8b5cf6'
                            : '#dc2626'
                        };
                    ">
                        <span>${
                            isRelevant === true ? '🎯'
                            : isRelevant === 'advice' ? '💜'
                            : '❌'
                        }</span>
                        <span>${
                            isRelevant === true ? 'רלוונטי'
                            : isRelevant === 'advice' ? 'פוסט ייעוצי'
                            : 'לא מתאים'
                        }</span>
                    </div>
                    <button onclick="this.parentElement.remove()" style="
                        background: none;
                        border: none;
                        cursor: pointer;
                        font-size: 14px;
                        color: #6b7280;
                        padding: 2px;
                        line-height: 1;
                    ">×</button>
                </div>
                
                <div style="font-size: 12px; line-height: 1.3; color: #374151;">
                    ${reason}
                </div>
            `;
            
            post.style.position = 'relative';
            post.appendChild(banner);
        }

        function removePostExplanationBanner(post) {
            const existingBanner = post.querySelector('.post-explanation-banner');
            if (existingBanner) {
                existingBanner.style.animation = 'bannerSlideOut 0.3s ease-out';
                setTimeout(() => {
                    if (existingBanner.parentNode) {
                        existingBanner.remove();
                    }
                }, 300);
            }
        }

        function addHoverAnalysisToAdditionalPosts() {
            const allPosts = getAllPosts();
            
            // Add hover effects to additional posts (indices 5-9)
            for (let i = 5; i < allPosts.length && i < 10; i++) {
                const post = allPosts[i];
                if (!post) continue;
                
                const postIndex = parseInt(post.dataset.index);
                const postData = feedPosts[postIndex];
                if (!postData) continue;
                
                let hoverTimeout;
                
                post.addEventListener('mouseenter', () => {
                    // Clear any existing timeout
                    if (hoverTimeout) clearTimeout(hoverTimeout);
                    
                    // Show analysis after short delay
                    hoverTimeout = setTimeout(() => {
                        if (!post.querySelector('.post-explanation-banner')) {
                            const { icon, reason, isRelevant, highlightField } = getPostAnalysis(postData);
                            showPostExplanationBanner(post, reason, isRelevant, postData.name, icon, highlightField);
                            
                        }
                    }, 800);
                });
                
                post.addEventListener('mouseleave', () => {
                    // Clear timeout if mouse leaves before analysis shows
                    if (hoverTimeout) clearTimeout(hoverTimeout);
                    
                    // Remove banner after short delay
                    setTimeout(() => {
                        removePostExplanationBanner(post);
                    }, DELAYS.SHORT);
                });
            }
        }

        function getPostClassification(postIndex) {
            const postData = feedPosts[postIndex];
            if (!postData) return [];
            
            // Define our business criteria (this would come from user settings)
            const businessCriteria = {
                field: 'שיפוצים ובנייה', // Our business field
                area: 'תל אביב והמרכז'      // Our service area
            };
            
            let classification = [];
            
            // Always show field analysis
            let fieldMatch = false;
            let detectedField = '';
            
            if (postData.content.includes('עיצוב המטבח') || postData.content.includes('שיפוצים')) {
                detectedField = 'שיפוצים ובנייה';
                fieldMatch = true;
            } else if (postData.content.includes('אתרי אינטרנט')) {
                detectedField = 'בניית אתרים';
                fieldMatch = false;
            } else if (postData.content.includes('מוסך') || postData.content.includes('מכונית')) {
                detectedField = 'שירותי רכב';
                fieldMatch = false;
            } else if (postData.content.includes('בגדים')) {
                detectedField = 'אופנה ובגדים';
                fieldMatch = false;
            } else if (postData.content.includes('קייטרינג')) {
                detectedField = 'שיפוצים ובנייה';
                fieldMatch = true;
            } else if (postData.content.includes('פיאנו') || postData.content.includes('קניון')) {
                detectedField = 'לא רלוונטי';
                fieldMatch = false;
            } else {
                detectedField = 'לא מזוהה';
                fieldMatch = false;
            }
            
            classification.push({
                label: 'תחום פעילות',
                value: detectedField,
                match: fieldMatch
            });
            
            // Always show area analysis (simplified for demo)
            let areaMatch = true; // Most posts are in relevant area
            let detectedArea = 'תל אביב והמרכז';
            
            if (postData.category === 'area_irrelevant') {
                detectedArea = 'מחוץ לאזור';
                areaMatch = false;
            }
            
            classification.push({
                label: 'איזור פעילות',
                value: detectedArea,
                match: areaMatch
            });
            
            // Add additional criteria based on category
            switch (postData.category) {
                case 'bot_post':
                    classification.push({
                        label: 'סוג פרופיל',
                        value: 'פרופיל מזויף',
                        match: false
                    });
                    break;
                case 'old_post':
                    classification.push({
                        label: 'זמן פרסום',
                        value: 'יותר מ-24 שעות',
                        match: false
                    });
                    break;
                case 'free_help':
                    classification.push({
                        label: 'כוונת הפוסט',
                        value: 'חיפוש עזרה חינם',
                        match: false
                    });
                    break;
                case 'relevant':
                    classification.push({
                        label: 'כוונת הפוסט',
                        value: 'חיפוש שירות בתשלום',
                        match: true
                    });
                    break;
            }
            
            return classification;
        }
        
        function getPostAnalysis(postData) {
            // Create specific analysis based on post content
            const getSpecificReason = (postData) => {
                const content = postData.content.toLowerCase();
                
                if (content.includes('מטבח')) {
                    return 'שיפוץ מטבח במרכז';
                } else if (content.includes('אמבטיה') || content.includes('נוזלת')) {
                    return 'איטום אמבטיה במרכז';
                } else if (content.includes('רצפות')) {
                    return 'חידוש רצפות';
                } else if (content.includes('צביעה') || content.includes('קירות')) {
                    return 'עבודות צביעה';
                } else if (content.includes('קבלן') && content.includes('שיפוץ')) {
                    return 'מחפש קבלן שיפוצים';
                } else {
                    return 'שירותי שיפוצים במרכז';
                }
            };
            
            switch (postData.category) {
                case 'relevant':
                    return {
                        icon: '🎯',
                        reason: `<strong>${getSpecificReason(postData)}</strong><br>✓ תחום מתאים ✓ מרכז/שרון`,
                        isRelevant: true,
                        highlightField: null
                    };
                case 'advice_seeking':
                    return {
                        icon: '💜',
                        reason: `<strong>פוסט ייעוצי - הזדמנות לבניית מוניטין</strong><br>✓ תחום מתאים ✓ מרכז/שרון`,
                        isRelevant: 'advice',
                        highlightField: null
                    };
                case 'bot_post':
                    return {
                        icon: '🤖',
                        reason: `פוסט פרסומי - לא לקוח אמיתי`,
                        isRelevant: false,
                        highlightField: 'authenticity'
                    };
                case 'field_irrelevant':
                    return {
                        icon: '🚫',
                        reason: `תחום פעילות לא מתאים - לא שיפוצים`,
                        isRelevant: false,
                        highlightField: 'field'
                    };
                case 'area_irrelevant':
                    return {
                        icon: '📍',
                        reason: `מיקום רחוק - מחוץ לאזור השירות`,
                        isRelevant: false,
                        highlightField: 'location'
                    };
                case 'old_post':
                    return {
                        icon: '⏰',
                        reason: `פוסט ישן מדי - יותר מ-24 שעות`,
                        isRelevant: false,
                        highlightField: 'timing'
                    };
                case 'free_help':
                    return {
                        icon: '💭',
                        reason: `שיתוף אישי - לא מחפש שירות`,
                        isRelevant: false,
                        highlightField: 'intent'
                    };
                default:
                    return {
                        icon: '🚫',
                        reason: 'פוסט לא מזוהה',
                        isRelevant: false,
                        highlightField: null
                    };
            }
        }
        
        let currentDemoStage = null;
        
        // Focus Management System
        function setDemoFocus(side, pulseColor = null) {
            const leftSide = document.getElementById('demoLeftSide');
            const rightSide = document.getElementById('demoRightSide');
            
            if (!leftSide || !rightSide) return;
            
            // Clear previous states
            leftSide.classList.remove('focused', 'dimmed', 'pulse-blue', 'pulse-green');
            rightSide.classList.remove('focused', 'dimmed', 'pulse-blue', 'pulse-green');
            
            if (side === 'left') {
                leftSide.classList.add('focused');
                rightSide.classList.add('dimmed');
                if (pulseColor) leftSide.classList.add(`pulse-${pulseColor}`);
            } else if (side === 'right') {
                rightSide.classList.add('focused');
                leftSide.classList.add('dimmed');
                if (pulseColor) rightSide.classList.add(`pulse-${pulseColor}`);
            } else {
                // Both sides neutral
                leftSide.classList.remove('focused', 'dimmed');
                rightSide.classList.remove('focused', 'dimmed');
            }
        }
        
        function updateProgressStep(currentStep) {
            const steps = ['analysis', 'response', 'messenger', 'complete'];
            const currentIndex = steps.indexOf(currentStep);
            
            steps.forEach((step, index) => {
                const stepElement = document.getElementById(`step-${step}`);
                if (!stepElement) return;
                
                stepElement.classList.remove('active', 'completed');
                
                if (step === currentStep) {
                    stepElement.classList.add('active');
                } else if (index < currentIndex) {
                    // Add completed class with sequential delay (500ms between each)
                    setTimeout(() => {
                        stepElement.classList.add('completed');
                    }, index * 500);
                }
            });
        }
        
        function pulseSpecificPost(postIndex) {
            const post = getPostByIndex(postIndex);
            if (post) {
                post.classList.remove('pulse-green');
                // Force reflow to restart animation
                post.offsetHeight;
                post.classList.add('pulse-green');
            }
        }

        // Enhanced stage descriptions for each demo phase
        const stageDescriptions = {
            'profile': {
                title: 'לומד את פרופיל הלקוח - מזהה תחום פעילות, איזור ועדיפויות למציאת לקוחות רלוונטיים'
            },
            'analysis': {
                title: 'סורק פוסטים בפייסבוק - מזהה פוסטי מכירה ישירה (ירוק) ופוסטי בניית מוניטין וייעוץ (סגול)'
            },
            'response': {
                title: 'כותב תגובה מקצועית - יוצר תגובה אישית ומותאמת שמציגה שירותים ומניעה לשיחה'
            },
            'messenger': {
                title: 'עובר למסנגר - שולח הודעת המשך במטרה לקבוע שיחה טלפונית עם הלקוח'
            },
            'complete': {
                title: 'הליד נשמר במערכת - הסוכן ממשיך לפעול 24/7 ומחפש לקוחות נוספים'
            }
        };


        // BLOCKING typewriter animation - Hebrew RTL from fixed position
        function animateText(element, text) {
            return new Promise((resolve) => {
                element.textContent = '';
                let currentChar = 0;
                
                // Set fixed width container for consistent positioning
                element.style.direction = 'rtl';
                element.style.textAlign = 'right';
                element.style.unicodeBidi = 'isolate';
                element.style.width = '100%';
                element.style.minHeight = '1.2em';
                element.style.position = 'relative';
                element.style.color = '#000000'; // Ensure black text during animation
                element.style.fontFamily = 'inherit';
                element.style.whiteSpace = 'normal';
                
                function typeNextChar() {
                    if (currentChar < text.length) {
                        element.textContent += text.charAt(currentChar);
                        currentChar++;
                        setTimeout(typeNextChar, 50); // 50ms delay between characters
                    } else {
                        // Animation complete - resolve promise
                        resolve();
                    }
                }
                
                // Start typing immediately
                typeNextChar();
            });
        }

        function animateTextAppend(element, text) {
            return new Promise((resolve) => {
                const existingContent = element.textContent;
                let currentChar = 0;
                
                // Maintain the same styling
                element.style.direction = 'rtl';
                element.style.textAlign = 'right';
                element.style.unicodeBidi = 'isolate';
                element.style.fontFamily = 'inherit';
                element.style.whiteSpace = 'normal';
                element.style.width = '100%';
                element.style.color = '#000000';
                
                function typeNextChar() {
                    if (currentChar < text.length) {
                        element.textContent = existingContent + text.substring(0, currentChar + 1);
                        currentChar++;
                        setTimeout(typeNextChar, 50); // 50ms delay between characters
                    } else {
                        // Animation complete - resolve promise
                        resolve();
                    }
                }
                
                // Start typing immediately
                typeNextChar();
            });
        }

        async function updateEnhancedDemoStage(stage) {
            const statusElement = document.getElementById('demoStatus');
            
            if (!statusElement) return;
            
            // Prevent multiple calls to same stage
            if (currentDemoStage === stage) {
                console.log('⚠️ Ignoring duplicate call to updateEnhancedDemoStage for stage:', stage);
                return;
            }
            
            console.log('🎯 updateEnhancedDemoStage called for stage:', stage, 'previous stage:', currentDemoStage);
            currentDemoStage = stage;
            
            // Update progress step in navigation immediately
            updateProgressStep(stage);
            
            // Get stage info - just use the title
            const stageInfo = stageDescriptions[stage] || { title: 'הסוכן בפעילות...' };
            
            // Ensure text is black before fading
            statusElement.style.color = '#000000';
            
            // Quick clear and start typing immediately - no fade transitions
            statusElement.style.opacity = '1';
            statusElement.style.transition = 'none';
            
            // Start typing animation and WAIT for it to complete
            console.log('🔤 Starting text animation for:', stageInfo.title.substring(0, 30) + '...');
            await animateText(statusElement, stageInfo.title);
            console.log('✅ Text animation completed for stage:', stage);
            
            // Ensure text remains black after animation
            statusElement.style.color = '#000000';
            statusElement.style.opacity = '1';
            
            // Demo can only continue AFTER this function completes
        }

        
        function updateDemoStageText(stage, text) {
            const explanationElement = document.querySelector('.status-indicator p');
            const featuresElement = document.querySelector('.demo-features');
            
            if (!explanationElement) return;
            
            currentDemoStage = stage;
            
            // Progress step is already updated by updateEnhancedDemoStage - don't duplicate
            // updateProgressStep(stage);
            
            // Focus on right side when text updates
            setDemoFocus('right', 'blue');
            
            // Animate text change
            explanationElement.style.opacity = '0.5';
            explanationElement.style.transform = 'translateY(-10px)';
            
            setTimeout(() => {
                explanationElement.textContent = text;
                explanationElement.style.opacity = '1';
                explanationElement.style.transform = 'translateY(0)';
                explanationElement.style.transition = 'all 0.3s ease';
                explanationElement.style.color = '#1e40af';
                explanationElement.style.fontWeight = '600';
                
                // Update features list based on stage
                if (featuresElement) {
                    updateFeaturesList(stage);
                }
                
                // After text is updated, shift focus back to left side after a delay
                setTimeout(() => {
                    if (stage === 'analysis') {
                        setDemoFocus('left');
                    } else if (stage === 'response' || stage === 'messenger') {
                        setDemoFocus('left', 'green');
                    }
                }, DELAYS.MEDIUM);
            }, 300);
        }
        
        function updateFeaturesList(stage) {
            const featuresElement = document.querySelector('.demo-features');
            if (!featuresElement) return;
            
            // Add updating animation
            featuresElement.classList.add('updating');
            featuresElement.classList.remove('updated', 'highlight');
            
            let featuresHTML = '';
            
            switch (stage) {
                case 'analysis':
                    featuresHTML = `
                        <li style="--delay: 0"><i class="fas fa-check"></i> סריקת מיליוני פוסטים בזמן אמת</li>
                        <li style="--delay: 1"><i class="fas fa-check"></i> זיהוי לקוחות פוטנציאליים ברמת דיוק של 96%</li>
                        <li style="--delay: 2"><i class="fas fa-check"></i> סינון אוטומטי של פוסטים לא רלוונטיים</li>
                        <li style="--delay: 3"><i class="fas fa-check"></i> מיקוד גיאוגרפי ותחומי מדויק</li>
                    `;
                    break;
                case 'response':
                    featuresHTML = `
                        <li style="--delay: 0"><i class="fas fa-check"></i> יצירת תגובות מותאמות אישית</li>
                        <li style="--delay: 1"><i class="fas fa-check"></i> ניתוח הקשר וכוונה של הפוסט</li>
                        <li style="--delay: 2"><i class="fas fa-check"></i> סגנון תגובה מקצועי ורלוונטי</li>
                        <li style="--delay: 3"><i class="fas fa-check"></i> המלצות ספציפיות למוצר/שירות</li>
                    `;
                    break;
                case 'messenger':
                    featuresHTML = `
                        <li style="--delay: 0"><i class="fas fa-check"></i> מעבר חלק לשיחה פרטית</li>
                        <li style="--delay: 1"><i class="fas fa-check"></i> שיחת ייעוץ מקצועית</li>
                        <li style="--delay: 2"><i class="fas fa-check"></i> איסוף פרטים לקביעת פגישה</li>
                        <li style="--delay: 3"><i class="fas fa-check"></i> העברה אוטומטית למערכת CRM</li>
                    `;
                    break;
                case 'complete':
                    featuresHTML = `
                        <li style="--delay: 0"><i class="fas fa-check"></i> הסוכן פועל 24/7 ללא הפסקה</li>
                        <li style="--delay: 1"><i class="fas fa-check"></i> מעקב וניתוח מתקדמים</li>
                        <li style="--delay: 2"><i class="fas fa-check"></i> דוחות ביצוע בזמן אמת</li>
                        <li style="--delay: 3"><i class="fas fa-check"></i> ROI מוכח ומדיד</li>
                    `;
                    break;
            }
            
            // Update content after fade out animation
            setTimeout(() => {
                featuresElement.innerHTML = featuresHTML;
                featuresElement.classList.remove('updating');
                featuresElement.classList.add('updated');
                
                // Add highlight animation after content is updated
                setTimeout(() => {
                    featuresElement.classList.add('highlight');
                    
                    // Add individual checkmark animations
                    const listItems = featuresElement.querySelectorAll('li');
                    listItems.forEach((item, index) => {
                        setTimeout(() => {
                            item.classList.add('animate-check');
                            setTimeout(() => {
                                item.classList.remove('animate-check');
                            }, 1000);
                        }, index * 300);
                    });
                    
                    // Remove highlight class after animation
                    setTimeout(() => {
                        featuresElement.classList.remove('highlight');
                    }, 3500);
                }, 600);
            }, 600);
        }

        async function autoHandleComment(postIndex, onComplete = null) {
            const post = getPostByIndex(postIndex);
            if (!post || !post.classList.contains('hot-post')) {
                if (onComplete) onComplete();
                return;
            }
            
            // Store the callback - it will be called by finishMessengerConversation
            demoCompleteCallback = onComplete;
            
            // Remove analysis banner when agent starts responding
            removePostExplanationBanner(post);
            
            // Check if comment box already exists for this post
            const existingCommentBox = post.querySelector(`[data-comment-box="${postIndex}"]`);
            if (existingCommentBox) {
                console.log('Comment box already exists for post', postIndex, '- skipping creation');
                // Still need to continue with messenger if typing is complete
                setTimeout(async () => {
                    if (feedPosts[postIndex] && feedPosts[postIndex].name && !messengerConversationActive) {
                        messengerConversationActive = true;
                        await showMessengerTransition(feedPosts[postIndex].name, feedPosts[postIndex].category);
                    }
                }, 1000);
                return;
            }
            
            // Update progress to response stage
            await updateEnhancedDemoStage('response');
            
            // Create comment box PROPERLY without breaking post-actions layout
            const commentBox = document.createElement('div');
            // Add unique identifier to prevent duplicate creation
            commentBox.setAttribute('data-comment-box', postIndex);
            commentBox.style.cssText = `
                margin-top: 0;
                padding: 6px 16px 12px 16px;
                border-top: none;
                box-sizing: border-box;
                width: 100%;
            `;
            
            const customerName = feedPosts[postIndex].name;
            const postData = feedPosts[postIndex];
            
            // Generate more personalized and varied responses based on post content
            const getPersonalizedResponse = (postData, customerName) => {
                const content = postData.content.toLowerCase();
                const responses = [];
                
                // Handle advice-seeking posts (reputation building)
                if (postData.category === 'advice_seeking') {
                    if (content.includes('רטיבות') || content.includes('כתמי')) {
                        responses.push(`היי ${customerName}! כתמי רטיבות בלי נזילה נראית יכולים להיות בגלל עליית לחות מהקרקע או בידוד לקוי. כדאי לבדוק איטום חיצוני ואוורור. אם תרצה עצות נוספות, אשמח לעזור!`);
                        responses.push(`שלום ${customerName}! זה יכול להיות קשור לבידוד תרמי לקוי או חדירת לחות דרך הקירות. חשוב לטפל בזה מהר כדי למנוע עובש. יש לי ניסיון רב בפתרון בעיות כאלו.`);
                    } else if (content.includes('קיר') && content.includes('תקלף')) {
                        responses.push(`${customerName}, אם הקיר מתקלף רק באזורים מסוימים זה בדרך כלל בגלל לחות. אם זה בכל הקיר, זה יכול להיות צבע ישן או הכנה לקויה של הקיר. כדאי לגרד קצת ולראות איך הצבע מתנהג.`);
                        responses.push(`היי ${customerName}! דרך טובה לבדוק זה לראות אם יש כתמים או ריח של עובש. אם לא, זה כנראה סתם צבע שמזדקן. בכל מקרה, הכנה נכונה של הקיר היא הבסיס לצביעה איכותית.`);
                    } else if (content.includes('איטום')) {
                        responses.push(`שלום ${customerName}! איטום רגיל מתאים לאזורים יבשים, בעוד איטום נגד מים נועד לחשיפה ישירה למים כמו מרפסות. למרפסת כדאי איטום אלסטומרי או פוליאוריטן - הם עמידים יותר לשינויי טמפרטורה.`);
                        responses.push(`היי ${customerName}! למרפסת בהחלט כדאי איטום נגד מים איכותי. זה נמדד בעמידות UV ובגמישות. איטום טוב יחזיק 10-15 שנה, לעומת איטום רגיל שיחזיק 3-5 שנים.`);
                    } else {
                        responses.push(`${customerName}, זו שאלה מעניינת! בתחום השיפוצים יש הרבה דברים שלא תמיד ברורים לבעלי בית. אשמח לעזור בעצות נוספות אם יש לך עוד שאלות.`);
                    }
                } 
                // Handle direct sales posts (existing logic)
                else if (content.includes('מטבח')) {
                    responses.push(`היי ${customerName}! יש לי ניסיון רב במטבחים מודרניים. אשמח לתת לך הצעת מחיר. בואו נעבור לפרטים בפרטי.`);
                    responses.push(`שלום ${customerName}! מטבח זה השקעה חשובה. יש לי פתרונות מעולים בתקציב שלך. בואו נדבר בהודעה פרטית.`);
                } else if (content.includes('אמבטיה') || content.includes('שירותים')) {
                    responses.push(`שלום ${customerName}! מתמחה בשיפוץ אמבטיות. יכול להציג לך עבודות שעשיתי באזור. בואו נדבר בפרטי.`);
                    responses.push(`היי ${customerName}! יש לי פתרונות מעולים לאמבטיה. אשמח לחלוק רעיונות. בואו נעבור להודעה פרטית.`);
                } else if (content.includes('סלון') || content.includes('חדר')) {
                    responses.push(`היי ${customerName}! יכול לעזור לך ליצור את החלום שלך. יש לי רעיונות מעניינים. בואו נדבר בהודעה פרטית.`);
                } else if (content.includes('קיר') || content.includes('צבע')) {
                    responses.push(`שלום ${customerName}! מתמחה בעבודות צביעה ועיצוב קירות. יש לי המון רעיונות. בואו נדבר בפרטי.`);
                } else {
                    responses.push(`שלום ${customerName}! אשמח לעזור לך עם הפרויקט שלך. יש לי ניסיון רב בתחום. בואו נעבור לשיחה פרטית.`);
                    responses.push(`היי ${customerName}! נראה פרויקט מעניין! אשמח לחלוק רעיונות ולתת הצעת מחיר. בואו נדבר בהודעה פרטית.`);
                }
                
                return responses[Math.floor(Math.random() * responses.length)];
            };
            
            let response = getPersonalizedResponse(postData, customerName);
            
            commentBox.innerHTML = `
                <div style="display: flex; align-items: flex-start; gap: 8px; margin-bottom: 8px;">
                    <div class="avatar avatar-sm" style="background: var(--ai-purple); color: white; display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; border-radius: 50%; font-size: 12px; font-weight: bold; flex-shrink: 0;">
                        י.ש
                    </div>
                    <div class="comment-bubble" style="flex: 1; background: #f0f2f5 !important; border-radius: 16px; padding: 12px 16px; position: relative; border: 1px solid #e4e6ea !important; min-height: 44px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04) !important; box-sizing: border-box !important; max-width: 100%; overflow-wrap: break-word;">
                        <div id="aiResponse${postIndex}" style="font-size: 14px; color: #1c1e21; line-height: 1.33; word-wrap: break-word; font-family: inherit; background: transparent !important;"></div>
                        <div class="typing-indicator" style="display: flex; align-items: center; gap: 8px; padding: 6px 0; margin-top: 4px;">
                            <span style="color: #65676b; font-size: 13px; font-weight: 500;">הסוכן כותב תגובה...</span>
                            <div style="display: flex; gap: 3px; align-items: center;">
                                <div style="width: 6px; height: 6px; background: #65676b; border-radius: 50%; animation: bounce 1.4s infinite;"></div>
                                <div style="width: 6px; height: 6px; background: #65676b; border-radius: 50%; animation: bounce 1.4s infinite 0.2s;"></div>
                                <div style="width: 6px; height: 6px; background: #65676b; border-radius: 50%; animation: bounce 1.4s infinite 0.4s;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Insert AFTER post-actions properly without changing existing styling
            const postActions = post.querySelector('.post-actions');
            if (postActions) {
                postActions.insertAdjacentElement('afterend', commentBox);
            } else {
                post.appendChild(commentBox);
            }
            
            // Show typing indicator for optimal duration, then type response
            setTimeout(() => {
                const typingIndicator = commentBox.querySelector('.typing-indicator');
                if (typingIndicator) {
                    // Smooth fade out of typing indicator
                    typingIndicator.style.transition = 'opacity 0.3s ease-out';
                    typingIndicator.style.opacity = '0';
                    setTimeout(() => {
                        if (typingIndicator.parentNode) {
                            typingIndicator.style.display = 'none';
                        }
                    }, 300);
                }
                
                // Type the response with slight delay for smooth transition
                setTimeout(() => {
                    typeResponse(`aiResponse${postIndex}`, response, () => {
                        // After typing completes, add small pause before messenger
                        setTimeout(async () => {
                            if (feedPosts[postIndex] && feedPosts[postIndex].name && !messengerConversationActive) {
                                messengerConversationActive = true;
                                await showMessengerTransition(feedPosts[postIndex].name, feedPosts[postIndex].category);
                            }
                        }, 1200); // Slightly longer pause to let user read the response
                    });
                }, 400); // Small delay after typing indicator fades
            }, 1800); // Slightly shorter typing indicator duration
        }

        function typeText(elementId, text, callback, speed = 30) {
            const element = document.getElementById(elementId);
            if (!element || !text) {
                callback && callback();
                return;
            }
            
            let i = 0;
            element.textContent = '';
            
            function typeChar() {
                if (i < text.length && element) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(typeChar, speed);
                } else {
                    callback && callback();
                }
            }
            
            // Start typing after a brief delay to show typing indicator first
            setTimeout(typeChar, 800);
        }

        // Legacy function for backward compatibility
        function typeResponse(elementId, text, callback) {
            typeText(elementId, text, callback, DELAYS.TYPING);
        }

        // Utility functions for common DOM operations
        function getPostByIndex(postIndex) {
            return document.querySelector(`[data-index="${postIndex}"]`);
        }

        function getAllPosts() {
            return document.querySelectorAll('.facebook-post');
        }

        function removeFixedElements(selector) {
            const elements = document.querySelectorAll(selector);
            elements.forEach(el => el.remove());
        }

        function createTypingIndicator(senderText = 'הסוכן כותב') {
            return `
                <div class="typing-indicator" style="
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    padding: 12px 16px;
                    background: rgba(0, 0, 0, 0.05);
                    border-radius: 12px;
                    margin: 8px 0;
                    font-size: 14px;
                    color: #6b7280;
                ">
                    <span>${senderText}</span>
                    <div style="display: flex; gap: 2px;">
                        <div style="width: 4px; height: 4px; background: #6b7280; border-radius: 50%; animation: bounce 1.4s infinite;"></div>
                        <div style="width: 4px; height: 4px; background: #6b7280; border-radius: 50%; animation: bounce 1.4s infinite 0.2s;"></div>
                        <div style="width: 4px; height: 4px; background: #6b7280; border-radius: 50%; animation: bounce 1.4s infinite 0.4s;"></div>
                    </div>
                </div>
            `;
        }

        function createMessengerTypingIndicator(isAgent = true, customerName = '') {
            const senderName = isAgent ? 'הסוכן' : customerName.split(' ')[0];
            const bgColor = isAgent ? '#0084ff' : '#e4e6ea';
            const textColor = isAgent ? 'white' : '#050505';
            const avatarBg = isAgent ? 'var(--ai-purple)' : '#e4e6ea';
            const avatarColor = isAgent ? 'white' : '#65676b';
            const avatarText = isAgent ? 'י.ש' : customerName.split(' ').map(n => n[0]).join('');
            
            return `
                <div class="messenger-typing-indicator" style="
                    display: flex;
                    gap: 8px;
                    margin-bottom: 16px;
                    ${isAgent ? 'flex-direction: row-reverse;' : ''}
                ">
                    <div class="avatar avatar-sm" style="width: 28px; height: 28px; background: ${avatarBg}; color: ${avatarColor}; font-size: 12px; font-weight: 600;">
                        ${avatarText}
                    </div>
                    <div style="background: ${bgColor}; color: ${textColor}; border-radius: 18px; padding: 8px 12px; max-width: 240px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; gap: 8px;">
                        <div style="display: flex; gap: 3px;">
                            <div style="width: 6px; height: 6px; background: ${textColor}; border-radius: 50%; animation: bounce 1.4s infinite; opacity: 0.6;"></div>
                            <div style="width: 6px; height: 6px; background: ${textColor}; border-radius: 50%; animation: bounce 1.4s infinite 0.2s; opacity: 0.6;"></div>
                            <div style="width: 6px; height: 6px; background: ${textColor}; border-radius: 50%; animation: bounce 1.4s infinite 0.4s; opacity: 0.6;"></div>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function showMessengerTyping(customerName, isAgent = true, duration = 2000) {
            const chat = document.getElementById('messengerChat');
            if (!chat) return Promise.resolve();
            
            const typingId = 'typing-' + Date.now();
            const typingHTML = createMessengerTypingIndicator(isAgent, customerName);
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = typingHTML;
            tempDiv.firstElementChild.id = typingId;
            
            chat.appendChild(tempDiv.firstElementChild);
            chat.scrollTop = chat.scrollHeight;
            
            return new Promise(resolve => {
                setTimeout(() => {
                    const typingElement = document.getElementById(typingId);
                    if (typingElement) {
                        typingElement.remove();
                    }
                    resolve();
                }, duration);
            });
        }

        // Reusable popup creation function
        function createPopup(config) {
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.7);
                backdrop-filter: blur(5px);
                z-index: ${config.zIndex || 1003};
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
            `;
            
            overlay.innerHTML = `
                <div style="${config.containerStyle}">
                    ${config.closeButton ? `<button onclick="this.parentElement.parentElement.remove()" style="position: absolute; top: 16px; left: 16px; background: none; border: none; font-size: 24px; color: #6b7280; cursor: pointer;">×</button>` : ''}
                    ${config.content}
                </div>
            `;
            
            document.body.appendChild(overlay);
            return overlay;
        }

        async function showMessengerTransition(customerName, postCategory = 'relevant') {
            console.log('🎆 showMessengerTransition started for:', customerName);
            
            // Update progress to messenger stage and wait for typing to complete
            await updateEnhancedDemoStage('messenger');
            
            // Wait for users to read the completed text
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // Remove any existing notifications and popups first
            console.log('🧹 Removing existing fixed elements');
            removeFixedElements('[style*="position: fixed"][style*="top: 80px"]');
            removeFixedElements('[style*="position: fixed"][style*="bottom: 20px"]');
            removeFixedElements('[style*="position: absolute"][style*="bottom: 20px"]'); // Also remove absolute positioned popups
            removeFixedElements('[style*="position: relative"][style*="margin: 20px auto"]'); // Remove centered positioned elements
            console.log('✅ Fixed elements removed');
            
            // Skip notification and go directly to messenger popup
            console.log('📱 Opening Messenger popup directly');
            showMessengerPopup(customerName, 0, postCategory);
            console.log('✅ showMessengerTransition completed - opened Messenger directly');
        }

        function showMessengerPopup(customerName, resumeFromStep = 0, postCategory = 'relevant') {
            const demoSection = document.getElementById('demo');
            const facebookFeed = demoSection ? demoSection.querySelector('#demoLeftSide') : null;
            const isMobile = window.innerWidth <= 768;
            
            console.log('Looking for Facebook feed:', facebookFeed ? 'Found' : 'Not found');
            console.log('Is mobile:', isMobile);
            
            if (!facebookFeed) {
                console.error('demoLeftSide element not found!');
            }
            
            let popup, overlay;
            
            if (isMobile) {
                // Create overlay for mobile
                overlay = document.createElement('div');
                overlay.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.6);
                    z-index: 1001;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    animation: fadeIn 0.3s ease-out;
                `;
                
                // Create popup for mobile
                popup = document.createElement('div');
                popup.style.cssText = `
                    width: 80vw;
                    max-width: 320px;
                    height: 70vh;
                    max-height: 600px;
                    background: white;
                    border-radius: 12px;
                    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
                    overflow: hidden;
                    animation: popupSlideIn 0.4s ease-out;
                    display: flex;
                    flex-direction: column;
                `;
                
                // Close overlay when clicking outside popup
                overlay.onclick = (e) => {
                    if (e.target === overlay) {
                        overlay.remove();
                        messengerPopup = null;
                        messengerConversationActive = false;
                    }
                };
                
                overlay.appendChild(popup);
                // Add overlay to demo section instead of body to constrain it to demo area
                const demoSection = document.getElementById('demo');
                if (demoSection) {
                    // Make demo section relative positioned to contain the fixed overlay properly
                    demoSection.style.position = 'relative';
                    demoSection.style.overflow = 'hidden';
                    // Change overlay position to absolute instead of fixed
                    overlay.style.position = 'absolute';
                    demoSection.appendChild(overlay);
                } else {
                    // Fallback to body if demo section not found
                    document.body.appendChild(overlay);
                }
                
            } else {
                // Desktop version - position relative to demo container
                popup = document.createElement('div');
                popup.style.cssText = `
                    position: relative;
                    margin: 20px auto 0 auto;
                    width: min(360px, 90vw);
                    height: min(540px, 70vh);
                    background: white;
                    border-radius: 12px;
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
                    z-index: 1002;
                    overflow: hidden;
                    animation: popupSlideIn 0.4s ease-out;
                    display: block;
                `;
                
                const demoContainer = demoSection ? demoSection.querySelector('.demo-container') : null;
                if (demoContainer && facebookFeed) {
                    demoContainer.style.position = 'relative';
                    demoContainer.appendChild(popup);
                    console.log('✅ Desktop popup appended to demo container');
                } else {
                    document.body.appendChild(popup);
                    console.log('⚠️ Fallback: Desktop popup appended to body');
                }
            }
            
            popup.innerHTML = `
                <div style="background: linear-gradient(135deg, #0084ff, #0066cc); color: white; padding: 12px 16px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.1); flex-shrink: 0;">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="width: 32px; height: 32px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fab fa-facebook-messenger" style="font-size: 16px;"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600; font-size: 14px;">${customerName}</div>
                            <div style="font-size: 12px; opacity: 0.8;">פעיל עכשיו</div>
                        </div>
                    </div>
                    <button onclick="closeMessengerPopup()" style="background: rgba(255,255,255,0.2); border: none; color: white; font-size: 16px; cursor: pointer; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">×</button>
                </div>
                <div style="padding: 12px 16px; flex: 1; overflow-y: auto; background: #f8f9fa;" id="messengerChat">
                    <!-- Messages will be added here -->
                </div>
            `;
            
            // Store popup reference for closing when user scrolls away
            messengerPopup = isMobile ? overlay : popup;
            
            console.log('✅ Popup created and added to DOM');
            console.log('Popup element:', popup);
            console.log('Is mobile overlay:', isMobile);
            
            // Wait for DOM to be fully updated before starting conversation
            setTimeout(() => {
                console.log('🚀 Starting messenger conversation');
                startMessengerConversation(customerName, postCategory);
            }, 10);
        }
        

        function closeMessengerPopup() {
            console.log('🚨 closeMessengerPopup() called');
            
            if (messengerPopup) {
                messengerPopup.remove();
                messengerPopup = null;
                messengerConversationActive = false;
            }
            
            // Also remove any mobile overlays and notifications
            document.querySelectorAll('[style*="position: fixed"][style*="rgba(0, 0, 0, 0.6)"]').forEach(el => el.remove());
            removeFixedElements('[style*="position: fixed"][style*="top: 80px"]');
        }

        // Debug function to check demo state (for testing)
        function debugDemoState() {
            console.log('=== DEMO STATE DEBUG ===');
            console.log('demoStarted:', demoStarted);
            console.log('messengerConversationActive:', messengerConversationActive);
            console.log('feedPosts length:', feedPosts.length);
            console.log('processedPosts:', processedPosts);
            console.log('========================');
        }
        
        // Make it globally available for testing
        window.debugDemoState = debugDemoState;


        
        
        
        function removeFixedElements(selector) {
            const elements = document.querySelectorAll(selector);
            if (elements.length > 0) {
                console.log('🗑️ removeFixedElements() removing', elements.length, 'elements with selector:', selector);
            }
            elements.forEach(el => el.remove());
        }
        
        
        function startMessengerConversation(customerName, postCategory = 'relevant') {
            startMessengerConversationFromStep(customerName, 0, postCategory);
        }
        
        function startMessengerConversationFromStep(customerName, fromStep = 0, postCategory = 'relevant') {
            const chat = document.getElementById('messengerChat');
            if (!chat) {
                console.error('CRITICAL: Messenger DOM elements not found!', {
                    chat: !!chat,
                    messengerPopup: !!messengerPopup
                });
                return;
            }
            
            console.log('Starting messenger conversation from step:', fromStep, 'category:', postCategory);
            
            // Step 1: Agent message with built-in typing animation
            const step1Delay = fromStep === 0 ? 1000 : 0;
            demoTimeouts.push(setTimeout(async () => {
                if (fromStep <= 0) {
                    let agentMessage;
                    if (postCategory === 'advice_seeking') {
                        // Advice/reputation building conversation
                        agentMessage = `היי ${customerName}! שמחתי לעזור עם השאלה שלך. אני מתמחה בפתרון בעיות שיפוצים כבר הרבה שנים.\nאם יש לך עוד שאלות או שתרצי להיעזר באיבחון מקצועי, אני כאן לעזור.`;
                    } else {
                        // Direct sales conversation (existing)
                        agentMessage = `שלום ${customerName}! ראיתי את הפוסט שלך על השיפוץ. אנחנו מתמחים בדיוק בפרויקטים כאלה ויש לנו עבודות דומות באזור שלך.\nמה דעתך שנקבע שיחה קצרה כדי שתראי את העבודות שלנו?`;
                    }
                    await addAgentMessage(chat, agentMessage);
                }
                
                // Step 2: Customer response with built-in typing animation
                const step2Delay = 2000;
                demoTimeouts.push(setTimeout(async () => {
                    if (fromStep <= 1) {
                        let customerResponse;
                        if (postCategory === 'advice_seeking') {
                            customerResponse = 'תודה רבה על העזרה! זה באמת עזר לי להבין. אשמח להכיר את השירותים שלך יותר לעומק.';
                        } else {
                            customerResponse = 'שלום! נשמע מעניין. אשמח לראות עבודות ולשמוע על מחירים. מתי נוכל לדבר?';
                        }
                        await addCustomerMessage(chat, customerName, customerResponse);
                    }
                    
                    // Step 3: Close messenger and complete (2 seconds)
                    demoTimeouts.push(setTimeout(async () => {
                        await finishMessengerConversation();
                    }, 2000));
                }, step2Delay));
            }, step1Delay));
        }
        
        async function finishMessengerConversation() {
            console.log('🏁 finishMessengerConversation() called - NORMAL COMPLETION');
            
            // Clear any remaining Messenger timeouts to prevent accumulation
            console.log('🧹 Clearing accumulated timeouts before finishing conversation');
            console.log('🧹 Had', demoTimeouts.length, 'timeouts before cleanup');
            
            // Close messenger popup using the proper function
            closeMessengerPopup();
            
            // Status text handled by updateEnhancedDemoStage - COMPLETE THIS FIRST
            await updateEnhancedDemoStage('complete');
            
            // Wait for users to read the completion message
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Clear timeouts AFTER completing the status text to prevent interruptions
            demoTimeouts.forEach(timeout => clearTimeout(timeout));
            demoTimeouts = [];
            
            updateProgressStep('complete');
            
            // Call the completion callback LAST - after all animations complete
            if (demoCompleteCallback) {
                console.log('Demo sequence completed, calling callback');
                const callback = demoCompleteCallback;
                demoCompleteCallback = null; // Clear the callback
                callback();
            }
        }
        
        function restartDemo() {
            console.log('🚫 restartDemo() DISABLED - NOT RESTARTING!');
            console.trace();
            // DISABLED: resetDemoState();
            // DISABLED: setTimeout(() => { startAutoDemo(); }, 1000);
            return; // Do nothing
        }
        
        
        function addAgentMessage(chat, message, animate = true) {
            const uniqueId = `agentTyping${Date.now()}`;
            
            return new Promise((resolve) => {
                if (animate) {
                    // First show typing indicator
                    const typingIndicator = createMessengerTypingIndicator(true, 'Agent');
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = typingIndicator;
                    const typingElement = tempDiv.firstElementChild;
                    const typingId = 'typing-' + Date.now();
                    typingElement.id = typingId;
                    
                    chat.appendChild(typingElement);
                    chat.scrollTop = chat.scrollHeight;
                    
                    // After 2 seconds, remove typing indicator and add actual message
                    setTimeout(() => {
                        // Remove typing indicator
                        document.getElementById(typingId)?.remove();
                        
                        // Add the actual message
                        const messageDiv = document.createElement('div');
                        messageDiv.style.cssText = `
                            display: flex;
                            gap: 8px;
                            margin-bottom: 16px;
                            flex-direction: row-reverse;
                        `;
                        
                        messageDiv.innerHTML = `
                            <div class="avatar avatar-sm" style="width: 28px; height: 28px; background: var(--ai-purple); color: white; font-size: 12px; font-weight: 600;">
                                י.ש
                            </div>
                            <div style="background: #0084ff; color: white; border-radius: 18px; padding: 8px 12px; max-width: 240px; font-size: 14px; line-height: 1.3;">
                                <div id="${uniqueId}"></div>
                            </div>
                        `;
                        
                        chat.appendChild(messageDiv);
                        chat.scrollTop = chat.scrollHeight;
                        
                        // Start typing the message
                        typeMessageWithAnimation(uniqueId, message, resolve);
                    }, 2000);
                } else {
                    // No animation, just add message directly
                    const messageDiv = document.createElement('div');
                    messageDiv.style.cssText = `
                        display: flex;
                        gap: 8px;
                        margin-bottom: 16px;
                        flex-direction: row-reverse;
                    `;
                    
                    messageDiv.innerHTML = `
                        <div class="avatar avatar-sm" style="width: 28px; height: 28px; background: var(--ai-purple); color: white; font-size: 12px; font-weight: 600;">
                            י.ש
                        </div>
                        <div style="background: #0084ff; color: white; border-radius: 18px; padding: 8px 12px; max-width: 240px; font-size: 14px; line-height: 1.3;">
                            <div id="${uniqueId}"></div>
                        </div>
                    `;
                    
                    chat.appendChild(messageDiv);
                    document.getElementById(uniqueId).textContent = message;
                    resolve();
                }
            });
        }
        
        function addCustomerMessage(chat, customerName, message, animate = true) {
            const uniqueId = `customerTyping${Date.now()}`;
            
            return new Promise((resolve) => {
                if (animate) {
                    // First show typing indicator
                    const typingIndicator = createMessengerTypingIndicator(false, customerName);
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = typingIndicator;
                    const typingElement = tempDiv.firstElementChild;
                    const typingId = 'typing-' + Date.now();
                    typingElement.id = typingId;
                    
                    chat.appendChild(typingElement);
                    chat.scrollTop = chat.scrollHeight;
                    
                    // After 2 seconds, remove typing indicator and add actual message
                    setTimeout(() => {
                        // Remove typing indicator
                        document.getElementById(typingId)?.remove();
                        
                        // Add the actual message
                        const messageDiv = document.createElement('div');
                        messageDiv.style.cssText = `
                            display: flex;
                            gap: 8px;
                            margin-bottom: 16px;
                        `;
                        
                        messageDiv.innerHTML = `
                            <div class="avatar avatar-sm" style="width: 28px; height: 28px; background: #e4e6ea; color: #65676b; font-size: 12px; font-weight: 600;">
                                ${customerName.split(' ').map(n => n[0]).join('')}
                            </div>
                            <div style="background: #e4e6ea; color: #050505; border-radius: 18px; padding: 8px 12px; max-width: 240px; font-size: 14px; line-height: 1.3;">
                                <div id="${uniqueId}"></div>
                            </div>
                        `;
                        
                        chat.appendChild(messageDiv);
                        chat.scrollTop = chat.scrollHeight;
                        
                        // Start typing the message
                        typeMessageWithAnimation(uniqueId, message, resolve);
                    }, 2000);
                } else {
                    // No animation, just add message directly
                    const messageDiv = document.createElement('div');
                    messageDiv.style.cssText = `
                        display: flex;
                        gap: 8px;
                        margin-bottom: 16px;
                    `;
                    
                    messageDiv.innerHTML = `
                        <div class="avatar avatar-sm" style="width: 28px; height: 28px; background: #e4e6ea; color: #65676b; font-size: 12px; font-weight: 600;">
                            ${customerName.split(' ').map(n => n[0]).join('')}
                        </div>
                        <div style="background: #e4e6ea; color: #050505; border-radius: 18px; padding: 8px 12px; max-width: 240px; font-size: 14px; line-height: 1.3;">
                            <div id="${uniqueId}"></div>
                        </div>
                    `;
                    
                    chat.appendChild(messageDiv);
                    document.getElementById(uniqueId).textContent = message;
                    resolve();
                }
            });
        }
        
        // Legacy function for backward compatibility
        function typeMessageWithAnimation(elementId, text, callback) {
            typeText(elementId, text, callback, DELAYS.TYPING_SLOW);
        }


        // Auto-playing demo system
        let demoStarted = false;
        let demoTimeouts = [];
        
        // Wrap the push method to log every timeout creation
        const originalPush = demoTimeouts.push;
        demoTimeouts.push = function(timeoutId) {
            console.log('⏰ TIMEOUT #' + (this.length + 1) + ' ADDED - Total timeouts:', this.length + 1);
            console.trace();
            return originalPush.call(this, timeoutId);
        };
        let messengerConversationActive = false;
        let messengerPopup = null;
        let processedPosts = new Set();
        let currentPostIndex = 0; // Track which post we're currently analyzing
        let totalPosts = 0; // Total number of posts in the feed
        let demoCompleteCallback = null; // Callback to run when demo sequence completes
        
        function clearDemoTimeouts() {
            console.log('🚨 CLEARING', demoTimeouts.length, 'demo timeouts');
            console.log('🚨 STACK TRACE:');
            const stack = new Error().stack;
            console.log(stack);
            demoTimeouts.forEach(timeout => clearTimeout(timeout));
            demoTimeouts = [];
        }
        
        function resetDemoState() {
            console.log('🔄 resetDemoState() called - FORCE RESET');
            console.trace();
            demoStarted = false;
            messengerConversationActive = false;
            processedPosts.clear();
            clearDemoTimeouts();
            
            // Reset focus system
            setDemoFocus('neutral');
            // Don't activate navigation during reset - wait for main demo to start
            // updateProgressStep('analysis'); 
            
            // Reset customer profile visibility for new demo
            const customerProfile = document.getElementById('customerProfileTemp');
            const profileHeader = document.getElementById('profileHeader');
            const businessField = document.getElementById('businessField');
            const locationField = document.getElementById('locationField');
            const targetField = document.getElementById('targetField');
            const demoContainer = document.getElementById('demoContainer');
            const greenIndicator = document.getElementById('greenIndicator');
            
            if (customerProfile) customerProfile.style.display = 'block';
            if (profileHeader) profileHeader.style.opacity = '0';
            if (businessField) businessField.style.opacity = '0';
            if (locationField) locationField.style.opacity = '0';
            if (targetField) targetField.style.opacity = '0';
            if (demoContainer) demoContainer.style.display = 'none';
            if (greenIndicator) greenIndicator.style.display = 'none';
            
            // Remove any existing popups
            removeFixedElements('[style*="position: fixed"][style*="z-index: 100"]');
        }
        
        async function startAutoDemo() {
            console.log('🚀 startAutoDemo() called - WHO CALLED THIS?');
            console.trace();
            if (demoStarted) {
                console.log('Demo already started, skipping');
                return;
            }
            
            console.log('Starting auto demo...');
            demoStarted = true;
            
            // Stage 1: Show customer profile only - wait for ceremony to complete
            await showCustomerProfileOnly();
            
            // Stage 2: Smooth transition to main demo
            await unlockFullContainers();
            startMainDemo();
        }

        async function showCustomerProfileOnly() {
            console.log('Stage 1: Showing customer profile only');
            const statusElement = document.getElementById('demoStatus');
            const customerProfile = document.getElementById('customerProfileTemp');
            const container = document.getElementById('demoContainer');
            const greenIndicator = document.getElementById('greenIndicator');
            
            // Clear status element for clean start
            
            // Keep green indicator in layout but hide content during customer profile phase
            if (greenIndicator) {
                greenIndicator.style.display = 'block';
                greenIndicator.style.visibility = 'hidden'; // Keeps layout space but invisible
            }
            
            // Show customer profile with enhanced design
            if (customerProfile) {
                customerProfile.style.display = 'block';
            }
            
            // Keep demo container hidden
            if (container) {
                container.style.display = 'none';
            }

            // Start the modified progressive animation sequence
            await startProgressiveProfileAnimation();
        }

        async function startProgressiveProfileAnimation() {
            console.log('Starting enhanced customer profile presentation');
            
            const statusElement = document.getElementById('demoStatus');
            if (!statusElement) return;

            // Get new elements
            const demoIntro = document.getElementById('demoIntro');
            const clientCard = document.getElementById('clientCard');
            const businessField = document.getElementById('businessField');
            const locationField = document.getElementById('locationField');
            const targetField = document.getElementById('targetField');
            const readyIndicator = document.getElementById('readyIndicator');

            // Debug: Check if elements exist
            console.log('Elements found:', {
                demoIntro: !!demoIntro,
                clientCard: !!clientCard,
                businessField: !!businessField,
                locationField: !!locationField,
                targetField: !!targetField,
                readyIndicator: !!readyIndicator
            });

            // Phase 1: Start directly with profile presentation
            await new Promise(resolve => setTimeout(resolve, 500));

            // Phase 2: Show intro banner for 2 seconds
            if (demoIntro) {
                demoIntro.style.transition = 'opacity 0.8s ease-out';
                demoIntro.style.opacity = '1';
            }
            await new Promise(resolve => setTimeout(resolve, 2000));

            // Phase 3: Smooth crossfade between intro banner and client card
            if (demoIntro && clientCard) {
                // Move client card to exact same position as demoIntro
                const introStyles = window.getComputedStyle(demoIntro);
                
                clientCard.style.position = 'absolute';
                clientCard.style.top = demoIntro.offsetTop + 'px';
                clientCard.style.left = demoIntro.offsetLeft + 'px';
                clientCard.style.width = introStyles.width;
                clientCard.style.margin = introStyles.margin;
                clientCard.style.textAlign = introStyles.textAlign;
                
                // Start both transitions simultaneously for smooth crossfade
                demoIntro.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                demoIntro.style.opacity = '0';
                demoIntro.style.transform = 'translateY(-10px)';
                
                clientCard.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                clientCard.style.transform = 'translateY(10px)';
                clientCard.style.opacity = '0';
                
                // Small delay then fade in client card from below
                setTimeout(() => {
                    clientCard.style.opacity = '1';
                    clientCard.style.transform = 'translateY(0)';
                }, 200);
            }
            await new Promise(resolve => setTimeout(resolve, 1000));

            // Phase 4: Reveal business field with smooth animation
            if (businessField) {
                businessField.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                businessField.style.transform = 'translateY(0)';
                businessField.style.opacity = '1';
            }
            await new Promise(resolve => setTimeout(resolve, 800));

            // Phase 5: Reveal location field
            if (locationField) {
                locationField.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                locationField.style.transform = 'translateY(0)';
                locationField.style.opacity = '1';
            }
            await new Promise(resolve => setTimeout(resolve, 800));

            // Phase 6: Reveal target field
            if (targetField) {
                targetField.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                targetField.style.transform = 'translateY(0)';
                targetField.style.opacity = '1';
            }
            await new Promise(resolve => setTimeout(resolve, 1000));

            // Phase 7: Show ready indicator and update status
            if (readyIndicator) {
                readyIndicator.style.transition = 'opacity 0.8s ease-out';
                readyIndicator.style.opacity = '1';
            }
            
            // Wait 4 seconds after customer profile is complete before starting main demo
            await new Promise(resolve => setTimeout(resolve, 4000));
            
            console.log('Enhanced customer profile presentation completed');
        }

        async function unlockFullContainers() {
            console.log('Stage 2: Hiding customer profile and showing demo container');
            const customerProfile = document.getElementById('customerProfileTemp');
            const container = document.getElementById('demoContainer');
            const greenIndicator = document.getElementById('greenIndicator');
            
            // Smooth fade out of customer profile
            if (customerProfile) {
                customerProfile.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                customerProfile.style.opacity = '0';
                customerProfile.style.transform = 'translateY(-20px)';
                
                // Wait for fade out animation
                await new Promise(resolve => setTimeout(resolve, 800));
                customerProfile.style.display = 'none';
            }
            
            // Small pause before showing demo elements
            await new Promise(resolve => setTimeout(resolve, 300));
            
            // Show green indicator with smooth fade in
            if (greenIndicator) {
                greenIndicator.style.display = 'block';
                greenIndicator.style.visibility = 'visible'; // Make it visible again
                greenIndicator.style.opacity = '0';
                greenIndicator.style.transform = 'translateY(20px)';
                greenIndicator.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
                
                // Trigger fade in
                setTimeout(() => {
                    greenIndicator.style.opacity = '1';
                    greenIndicator.style.transform = 'translateY(0)';
                }, 50);
            }
            
            // Show centered demo container with smooth fade in
            if (container) {
                container.style.display = 'flex';
                container.style.opacity = '0';
                container.style.transform = 'translateY(30px)';
                container.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                
                // Trigger fade in after a short delay
                setTimeout(() => {
                    container.style.opacity = '1';
                    container.style.transform = 'translateY(0)';
                }, 200);
            }
        }

        function startMainDemo() {
            console.log('Starting main demo sequence...');
            const statusElement = document.getElementById('demoStatus');
            const demoProgress = document.getElementById('demoProgress');
            
            if (!statusElement) {
                console.error('Status element not found!');
                return;
            }
            
            // Show the demo navigation now that main demo is starting
            if (demoProgress) {
                demoProgress.style.display = 'flex';
            }
            
            // Set initial status while demo initializes
            statusElement.textContent = 'מתחיל הדגמה...';
            statusElement.style.color = '#000000';
            
            // Clear any existing timeouts
            clearDemoTimeouts();
            
            // Initialize progress and focus
            updateProgressStep('analysis');
            setDemoFocus('right', 'blue');
            
            // Start the original demo automatically
            console.log('Populating feed...');
            populateFeed();
            
            // Save initial progress
            
            // Update status for analysis phase and move to detection
            demoTimeouts.push(setTimeout(async () => {
                console.log('Analysis phase timeout triggered');
                if (statusElement && demoStarted) {
                    await updateEnhancedDemoStage('analysis');
                    console.log('Status updated for analysis phase - waiting for text completion');
                    
                    // Wait for the analysis text to complete writing before starting post detection
                    demoTimeouts.push(setTimeout(() => {
                        console.log('About to call detectAndMarkPosts from startAutoDemo');
                        detectAndMarkPosts();
                    }, DELAYS.LONG));
                }
            }, 2000));
            
            // Only reset demo after completion, not on timer
            // Removed automatic 60-second reset to prevent scroll conflicts
        }
        

        
        let demoObserver;
        
        function initDemoObserver() {
            console.log('Initializing demo observer...');
            // Simple demo start when scrolled into view
            demoObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    console.log('Demo section intersecting:', entry.isIntersecting, 'demoStarted:', demoStarted);
                    if (entry.isIntersecting && !demoStarted) {
                        console.log('Starting demo in 1 second...');
                        setTimeout(async () => {
                            if (!demoStarted && entry.target.getBoundingClientRect().top < window.innerHeight) {
                                await startAutoDemo();
                            }
                        }, 1000);
                    } else if (!entry.isIntersecting && demoStarted) {
                        // User scrolled away - be more careful about when to pause
                        console.log('Demo scrolled out of view - checking demo phase');
                        
                        // Never clear timeouts if we're in or approaching messenger phase
                        if (!messengerConversationActive && totalPosts > 0 && currentPostIndex < 2) {
                            console.log('Safe to pause - early demo phase, no messenger activity');
                            clearDemoTimeouts();
                        } else {
                            console.log('Not pausing - in advanced demo phase or messenger active');
                        }
                    }
                });
            }, { threshold: 0.5, rootMargin: '50px' });
        }
        
        function selectPlan(plan) {
            // Form moved to landing page
        }
        
        // Toggle the "Other" business type field
        function toggleOtherBusinessField() {
            const businessTypeSelect = document.getElementById('businessType');
            const otherBusinessGroup = document.getElementById('otherBusinessGroup');
            const otherBusinessInput = document.getElementById('otherBusiness');
            
            if (businessTypeSelect.value === 'other') {
                otherBusinessGroup.style.display = 'block';
                otherBusinessInput.required = true;
            } else {
                otherBusinessGroup.style.display = 'none';
                otherBusinessInput.required = false;
                otherBusinessInput.value = ''; // Clear the field when hiding
            }
        }
        
        function startDemo() {
            console.log('startDemo button clicked');
            // Scroll to demo section and start it immediately
            const demoSection = document.getElementById('demo');
            if (demoSection) {
                console.log('Scrolling to demo section');
                demoSection.scrollIntoView({ behavior: 'smooth' });
                // Don't reset if demo is already started - just scroll to it
                if (demoStarted) {
                    console.log('Demo already running, just scrolling to view');
                    return;
                }
                // Force start the demo immediately if not started
                setTimeout(async () => {
                    console.log('Starting demo from button (demo not yet started)');
                    // Only start if still not started (prevent race conditions)
                    if (!demoStarted) {
                        await startAutoDemo();
                    }
                }, 500);
            } else {
                console.error('Demo section not found when button clicked');
            }
        }

        // Add styles for animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(-100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes popupSlideIn {
                from { transform: translateY(30px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
            
            @keyframes bounce {
                0%, 20%, 53%, 80%, 100% { transform: translateY(0); }
                40%, 43% { transform: translateY(-8px); }
                70% { transform: translateY(-4px); }
                90% { transform: translateY(-2px); }
            }
            
            @keyframes messengerSlideIn {
                from { 
                    transform: scale(0.8) translateY(40px); 
                    opacity: 0; 
                }
                to { 
                    transform: scale(1) translateY(0); 
                    opacity: 1; 
                }
            }
            
            @keyframes pulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.5; }
            }
            
            @keyframes typingBounce {
                0%, 60%, 100% { transform: translateY(0); }
                30% { transform: translateY(-4px); }
            }
            
            /* BOMBASTIC STATS ANIMATIONS */
            @keyframes backgroundPulse {
                0%, 100% { opacity: 0.3; transform: scale(1); }
                50% { opacity: 0.8; transform: scale(1.1); }
            }
            
            @keyframes gradientShift {
                0%, 100% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
            }
            
            @keyframes textGlow {
                0%, 100% { 
                    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
                    transform: scale(1);
                }
                50% { 
                    text-shadow: 0 4px 30px rgba(255, 255, 255, 0.3), 0 0 40px rgba(59, 130, 246, 0.4);
                    transform: scale(1.02);
                }
            }
            
            @keyframes floatUp {
                0%, 100% { transform: translateY(0px) scale(1); }
                33% { transform: translateY(-8px) scale(1.02); }
                66% { transform: translateY(-4px) scale(1.01); }
            }
            
            @keyframes borderGlow {
                0%, 100% { opacity: 0.5; transform: rotate(0deg); }
                50% { opacity: 1; transform: rotate(180deg); }
            }
            
            @keyframes numberPulse {
                0%, 100% { 
                    transform: scale(1);
                    filter: brightness(1);
                }
                50% { 
                    transform: scale(1.1);
                    filter: brightness(1.3) saturate(1.2);
                }
            }
            
            @keyframes sparkle {
                0%, 100% { 
                    transform: scale(1) rotate(0deg);
                    opacity: 0.8;
                }
                25% { 
                    transform: scale(1.2) rotate(90deg);
                    opacity: 1;
                }
                50% { 
                    transform: scale(1.4) rotate(180deg);
                    opacity: 0.9;
                }
                75% { 
                    transform: scale(1.2) rotate(270deg);
                    opacity: 1;
                }
            }
            
        `;
        document.head.appendChild(style);

        // Advanced Navigation Functions
        function initAdvancedNavigation() {
            // Scroll progress indicator
            function updateScrollProgress() {
                const scrollProgress = document.querySelector('.scroll-progress');
                if (scrollProgress) {
                    const scrollTop = window.pageYOffset;
                    const docHeight = document.body.scrollHeight - window.innerHeight;
                    const scrollPercent = (scrollTop / docHeight) * 100;
                    scrollProgress.style.width = scrollPercent + '%';
                }
            }

            // Active navigation state management
            function updateActiveNavState() {
                const sections = document.querySelectorAll('section[id]');
                const navLinks = document.querySelectorAll('.nav-link');
                
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    if (window.pageYOffset >= sectionTop - 200) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    const navItem = link.parentElement;
                    navItem.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        navItem.classList.add('active');
                    }
                });
            }

            // Mobile menu toggle functionality
            function initMobileMenu() {
                const mobileToggle = document.querySelector('.mobile-menu-toggle');
                const navMenu = document.querySelector('.nav-menu');
                
                if (mobileToggle && navMenu) {
                    mobileToggle.addEventListener('click', () => {
                        navMenu.classList.toggle('mobile-active');
                        
                        // Animate hamburger lines
                        const spans = mobileToggle.querySelectorAll('span');
                        spans.forEach((span, index) => {
                            if (navMenu.classList.contains('mobile-active')) {
                                if (index === 0) span.style.transform = 'rotate(45deg) translate(6px, 6px)';
                                if (index === 1) span.style.opacity = '0';
                                if (index === 2) span.style.transform = 'rotate(-45deg) translate(6px, -6px)';
                            } else {
                                span.style.transform = '';
                                span.style.opacity = '';
                            }
                        });
                    });

                    // Close mobile menu when clicking outside
                    document.addEventListener('click', (e) => {
                        if (!mobileToggle.contains(e.target) && !navMenu.contains(e.target)) {
                            navMenu.classList.remove('mobile-active');
                            const spans = mobileToggle.querySelectorAll('span');
                            spans.forEach(span => {
                                span.style.transform = '';
                                span.style.opacity = '';
                            });
                        }
                    });
                }
            }

            // Enhanced smooth scrolling with navigation effects
            function enhanceSmoothScrolling() {
                document.querySelectorAll('.nav-link[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href').substring(1);
                        const targetSection = document.getElementById(targetId);
                        
                        if (targetSection) {
                            // Close mobile menu if open
                            const navMenu = document.querySelector('.nav-menu');
                            if (navMenu && navMenu.classList.contains('mobile-active')) {
                                navMenu.classList.remove('mobile-active');
                            }

                            // Smooth scroll with enhanced easing
                            targetSection.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });

                            // Add temporary glow effect to target section
                            targetSection.style.boxShadow = '0 0 30px rgba(59, 130, 246, 0.3)';
                            setTimeout(() => {
                                targetSection.style.boxShadow = '';
                            }, 2000);
                        }
                    });
                });
            }

            // Initialize all navigation features
            updateScrollProgress();
            updateActiveNavState();
            initMobileMenu();
            enhanceSmoothScrolling();

            // Add scroll event listeners
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                updateScrollProgress();
                
                // Throttle active state updates for performance
                if (scrollTimeout) clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(updateActiveNavState, 100);
            });

            // Add resize listener for responsive behavior
            window.addEventListener('resize', () => {
                updateScrollProgress();
                updateActiveNavState();
            });
        }

        // Initialize demo on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Content Loaded');
            
            // Initialize animated stars
            createStars();
            
            // Initialize advanced navigation
            initAdvancedNavigation();
            
            // Status text will be initialized by demo when it starts
            
            // Initialize and start observing the demo section
            const demoSection = document.getElementById('demo');
            if (demoSection) {
                console.log('Demo section found, initializing observer');
                initDemoObserver();
                demoObserver.observe(demoSection);
                console.log('Observer attached to demo section');
            } else {
                console.error('Demo section not found!');
            }
            
            // Add smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        });

        // Contact form handling
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const submitButton = this.querySelector('button[type="submit"]');
            const originalText = submitButton.innerHTML;
            
            // Show loading state
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> שולח...';
            submitButton.disabled = true;
            
            // Get form data
            const formData = new FormData();
            const fullName = document.getElementById('fullName').value;
            const phone = document.getElementById('phone').value;
            const businessType = document.getElementById('businessType').value;
            const otherBusiness = document.getElementById('otherBusiness').value;
            const location = document.getElementById('location').value;
            
            // Determine business type value
            const businessValue = businessType === 'other' ? otherBusiness : businessType;
            
            // Send to Google Form with actual field IDs
            const googleFormData = new FormData();
            googleFormData.append('entry.50234945', fullName); // שם מלא
            googleFormData.append('entry.1686824264', phone); // מספר טלפון  
            googleFormData.append('entry.596595248', businessValue); // תחום פעילות
            googleFormData.append('entry.1222583304', location); // אזור פעילות
            
            // Submit to Google Form
            fetch('https://docs.google.com/forms/d/e/1FAIpQLScVJM-0WcAJvPClZCNxCLhl_hgRv5Qha3UZPE8-VGChYqXynw/formResponse', {
                method: 'POST',
                mode: 'no-cors',
                body: googleFormData
            }).then(() => {
                submitButton.innerHTML = '<i class="fas fa-check"></i> נשלח בהצלחה!';
                submitButton.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                
                // Reset form
                this.reset();
                
                // Reset button after 3 seconds
                setTimeout(() => {
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                    submitButton.style.background = '';
                }, 3000);
            }).catch(() => {
                // Even on error, show success since no-cors mode doesn't return real status
                submitButton.innerHTML = '<i class="fas fa-check"></i> נשלח בהצלחה!';
                submitButton.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                
                // Reset form
                this.reset();
                
                // Reset button after 3 seconds
                setTimeout(() => {
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                    submitButton.style.background = '';
                }, 3000);
            });
        });
    </script>
</body>
</html>
